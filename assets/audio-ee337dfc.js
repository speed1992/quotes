import{a as d,T as g,u as m}from"./index-1187b2d2.js";import{c as r}from"./utils-0fdbf814.js";import"./worker-c74eba45.js";async function w(i,e,t,o,s,p){const c=window.speechSynthesis,h=c.speaking,l=c.getVoices();let a=()=>{};a();let y=new Promise(n=>a=n);if(!h)for(let n=i;n<(e==null?void 0:e.length);n++)p(n),r(s,n,e),await Promise.race([y,S(e[n].quote,t,o,l)])}function S(i,e,t,o){let s=new SpeechSynthesisUtterance(i);return s.rate=e,s.voice=o[t],s.lang=o[t].lang,window.speechSynthesis.speak(s),new Promise((p,c)=>s.onend=p)}const A=({index:i,currentData:e,scrollPosition:t,setScrollPosition:o,listRef:s,voiceSpeed:p})=>{const c=d(l=>l.philosophersData.voiceType),h=g(()=>w(i,e,p,c,s,o),[e,i,s,t,o,p,c]);return m("button",{onClick:speechSynthesis.speaking?()=>speechSynthesis.cancel():h,children:[speechSynthesis.speaking?"Stop":"Play"," Audio"]})};export{A as default};
