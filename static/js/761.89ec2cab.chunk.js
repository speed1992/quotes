"use strict";(self.webpackChunkquotes=self.webpackChunkquotes||[]).push([[761],{761:function(e,n,t){t.r(n);var r=t(9439),s=t(2791),a=t(4652),u=t(184);n.default=function(e){var n=e.setUserName,t=e.userName,o=e.setIsLoggedIn,c=e.openSnackbar,i=(0,s.useState)(""),p=(0,r.Z)(i,2),l=p[0],d=p[1];return(0,u.jsxs)(u.Fragment,{children:["Username",(0,u.jsx)("input",{type:"text",className:"userInput",onChange:function(e){return n(e.target.value)},value:t}),"Password",(0,u.jsx)("input",{type:"password",className:"userInput",onChange:function(e){return d(e.target.value)},value:l}),(0,u.jsx)("button",{className:"menuBtn",onClick:function(){return(0,a.z9)({apiCallType:"login",userName:t,password:l,setIsLoggedIn:o,openSnackbar:c})},children:"Login"}),(0,u.jsx)("button",{className:"menuBtn",onClick:function(){return(0,a.z9)({apiCallType:"register",userName:t,password:l,setIsLoggedIn:o,openSnackbar:c})},children:"Register"})]})}},4652:function(e,n,t){t.d(n,{yf:function(){return o},M_:function(){return c},z9:function(){return i}});var r=t(5861),s=t(4687),a=t.n(s),u=t(295),o=function(){var e=(0,r.Z)(a().mark((function e(n){var t,s,o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.userName,s=n.markedQuotes,o=n.openSnackbar,e.next=3,(0,u.YM)((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://quotes-backend.vercel.app/api/markedQuotes/backup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,markedQuotes:s,dateSynced:Date.now()})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 3:return c=e.sent,e.next=6,c.json();case 6:c=e.sent,o(JSON.stringify(c));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)(a().mark((function e(n){var t,s,o,c,i,p,l,d,f,m,v,k,h,g,y;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.userName,n.markedQuotes,o=n.openSnackbar,c=n.setMarkedQuotes,e.next=3,(0,u.YM)((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://quotes-backend.vercel.app/api/markedQuotes/restore",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:s})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 3:return i=e.sent,e.next=6,i.json();case 6:if(i=e.sent,null!==(t=i)&&void 0!==t&&t.ok)try{k=Object.values(null===(p=i)||void 0===p||null===(l=p.results)||void 0===l||null===(d=l[0])||void 0===d?void 0:d.markedQuotes).flat().length,null!==(f=i)&&void 0!==f&&null!==(m=f.results)&&void 0!==m&&null!==(v=m[0])&&void 0!==v&&v.markedQuotes&&k>0&&c(null===(h=i)||void 0===h||null===(g=h.results)||void 0===g||null===(y=g[0])||void 0===y?void 0:y.markedQuotes)}catch(b){o(JSON.stringify(b))}finally{o("Restored all marked quotes!",2e3)}else o(JSON.stringify(i.error));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),i=function(){var e=(0,r.Z)(a().mark((function e(n){var t,s,o,c,i,p,l,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.apiCallType,o=n.userName,c=n.password,i=n.setIsLoggedIn,p=n.openSnackbar,l=o.charAt(0).toUpperCase()+o.slice(1),"login"!==s){e.next=8;break}return e.next=5,(0,u.YM)((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://quotes-backend.vercel.app/api/user/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:o,password:c})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 5:d=e.sent,e.next=11;break;case 8:return e.next=10,(0,u.YM)((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://quotes-backend.vercel.app/api/user/create",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:o,password:c})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 10:d=e.sent;case 11:return e.next=13,d.json();case 13:d=e.sent,null!==(t=d)&&void 0!==t&&t.ok?(i(!0),p(l+" "+JSON.stringify(d.serverResponse))):p(JSON.stringify(d.error));case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=761.89ec2cab.chunk.js.map