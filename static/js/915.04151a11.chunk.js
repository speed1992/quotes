"use strict";(self.webpackChunkquotes=self.webpackChunkquotes||[]).push([[915],{4755:(e,t,s)=>{s.d(t,{Z:()=>n});var o=s(4420),r=s(4819);const n=()=>{const e=(0,o.I0)();return[function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1400;e((0,r.y7)(t)),setTimeout((()=>e((0,r.y7)(""))),s)}]}},3456:(e,t,s)=>{s.d(t,{Z:()=>r,k$:()=>n,o8:()=>o});const o=e=>"undefined"===typeof e,r=e=>0===Object.values(e).length&&e.constructor===Object;function n(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}},8221:(e,t,s)=>{s.d(t,{d:()=>r});var o=s(2485);const r=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e=new Date(e);const r=new Date,n=r.getTime()-e.getTime(),a=Math.floor(n/864e5);return s&&(0,o.$)("dev")&&(s("inside isCacheExpired "+r),s("startDate "+e),s("endDate "+r),s("dateDifferenceInMilliSeconds endDate.getTime() - startDate.getTime() "+n),s("dateDifference In hours "+Math.floor(n/36e5%24)),s("dateDifferenceInDays "+a),s("dateDifferenceInDays >= cacheTime "+a>=t),s("cacheTime "+t)),a>=t}},413:(e,t,s)=>{s.d(t,{H:()=>r});s(2791);function o(e,t){const s=localStorage.getItem(e),o=JSON.parse(s);return void 0===o||"undefined"===o||"null"===o||null===o?t:o}const r=e=>{let{index:t,currentPhilosopher:s,markedMode:r,markedQuotes:n={},setMarkedQuotes:a,currentData:i,setCurrentData:l}=e,c=JSON.parse(JSON.stringify(n)),u=[];const d="".concat(s,"-MARKED_AS_READ");u=o(d,[]),n&&void 0!==n[s]&&(u=[...u,...n[s]]),u=[...new Set(u)],t&&u.push(t),c[s]=u,a(c);const _=i.filter(((e,t)=>{let{id:s}=e;return-1===u.indexOf(s)}));l(JSON.parse(JSON.stringify(_)))}},2485:(e,t,s)=>{function o(e){let t=function(e){e=e.split("+").join(" ");for(var t,s={},o=/[?&]?([^=]+)=([^&]*)/g;t=o.exec(e);)s[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return s}(document.location.search),s=t[e]?t[e].toLowerCase():null;return!("false"!==s&&!s)}s.d(t,{$:()=>o})},1278:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Bj:()=>scrollToQuoteId,nI:()=>isDesktop,rY:()=>scrollToMemorizedRow,tq:()=>isMobile,yC:()=>search});var _web_workers_worker__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9031);const scrollToFirstRow=e=>{e.current&&e.current.scrollToRow(0)},scrollToMemorizedRow=(e,t,s)=>{(null===s||void 0===s?void 0:s.length)>0&&e.current&&(void 0!==t&&"undefined"!==t&&t&&t>0?e.current.scrollToRow(t):scrollToFirstRow(e))},scrollToQuoteId=(e,t,s,o)=>{const r=t[o];if((null===s||void 0===s?void 0:s.length)>0&&e.current)if(void 0!==r&&"undefined"!==r&&r&&r>0){const t=s.findIndex((e=>{let{id:t}=e;return t===r}));t>-1&&e.current.scrollToRow(t)}else scrollToFirstRow(e)},search=_ref2=>{let{searchText:searchText,currentData:currentData,setCurrentData:setCurrentData}=_ref2;return new Promise((resolve=>{void 0!==currentData&&(_web_workers_worker__WEBPACK_IMPORTED_MODULE_0__.K.postMessage({currentData:currentData,searchText:searchText,filterName:"searchTermFilter"}),_web_workers_worker__WEBPACK_IMPORTED_MODULE_0__.K.onmessage=event=>{const filteredQuotesFromWorker=JSON.parse(eval("(".concat(JSON.stringify(event.data),")")));resolve(filteredQuotesFromWorker)})}))},isMobile=()=>window.innerWidth<=600,isDesktop=()=>window.innerWidth>=600},9031:(e,t,s)=>{let o;s.d(t,{K:()=>o}),window.Worker?o=new Worker(new URL(s.p+s.u(345),s.b)):alert("Your browser doesn't support web workers.")},4609:(e,t,s)=>{s.d(t,{D:()=>g,H:()=>m});var o=s(4994),r=s(6677);const n=8;var a=s(5938),i=s(295),l=s(8221),c=s(1930),u=s(2439),d=s(9234);const _=e=>{let{newOptions:t,oldOptions:s,oldOriginalOptions:o,setOptions:r,setOriginalOptions:n,sorting:i}=e;const l=[...u.R,...t];let _=((e,t)=>{let s=JSON.parse(JSON.stringify(t));return s.forEach(((t,o)=>{const r=(0,a.lf)(t.value,e);-1!==r&&(s[o].quotes=e[r].quotes)})),s})(s,[...l]);i===c.y?_=(0,d.xh)(l,_):i===c.P&&(_=(0,d.CQ)(_)),r([..._]),n(l)};var p=s(2485),h=s(2922);function m(e){let{philosopher:t,listRef:s,setIsFetching:o,setStart:r,setEnd:i,setSearchText:l,setCurrentPhilosopher:c,currentData:u,setCurrentData:d,options:_,setOptions:p,markedMode:m,markedQuotes:g,setMarkedQuotes:k,scrollPosition:D,setRowsRendered:f,recentPhilosophers:w,setRecentPhilosophers:O}=e;function v(){w&&O([...new Set([t,...w.slice(0,n-1)])]),c(t),(0,h.gt)({philosopher:t,currentData:u,setCurrentData:d,options:_},{markedMode:m,markedQuotes:g,setMarkedQuotes:k}),o(!1)}r(1),i(""),l(""),o(!0),(0,a.SD)({philosopher:t,options:_})?v():(0,a.dA)(t,{options:_,setOptions:p},[]).then(v)}const g=async e=>{let{options:t,setOptions:s,isLoggedIn:n,setSyncDate:a,isFetchingOptions:c,setIsFetchingOptions:u,originalOptions:d,setOriginalOptions:h,sorting:m,syncDate:g,setLogs:k}=e;if((0,p.$)("dev")){const e=new Date;k("inside onFocusHandler"),k("isCacheExpired(syncDate, CACHE_IN_DAYS.ASSET_GRAPH, setLogs) || options.length === 1 "+(0,l.d)(g,r.c,k)||0),k("options.length "+t.length),k("current time "+e),k("syncDate "+new Date(g))}if((0,l.d)(g,r.c,k)||1===t.length){null===u||void 0===u||u(!0);let e=await(0,i.YM)((()=>fetch(o.P.STATIC_DATA.STATIC_ASSET_GRAPH)));e=await e.json(),(0,p.$)("dev")&&k("api response "+e),_({newOptions:e,oldOptions:t,oldOriginalOptions:d,setOptions:s,setOriginalOptions:h,sorting:m}),null===u||void 0===u||u(!1),null===a||void 0===a||a(Date.now())}}},1930:(e,t,s)=>{s.d(t,{P:()=>r,y:()=>o});const o="latest",r="alphabetical"},6915:(e,t,s)=>{s.r(t),s.d(t,{default:()=>O});var o=s(2791),r=s(5938),n=s(295),a=s(1278);var i=s(184);const l=o.lazy((()=>(0,n.YM)((()=>Promise.all([s.e(348),s.e(416)]).then(s.bind(s,9416))))));function c(e){const{currentPhilosopher:t,setCurrentData:s,options:n,setOptions:a,setIsFetching:c,isFetching:u}=e;return(0,o.useEffect)((()=>{c(!0),function(e,t,s,o,n){try{void 0!==e&&((0,r.SD)({philosopher:e,options:t})||(0,r.dA)(e,{options:t,setOptions:s},[o])),n(!1)}catch(a){console.log(a)}}(t,n,a,s,c)}),[t]),!u&&(0,i.jsx)(l,{...e})}const u="home-page_content__Jkn8g",d="home-page_contentMinMode__qSHsr",_="home-page_homepage__vHOIY",p="home-page_minMode__QYZpn";var h=s(8614),m=s(4420),g=s(1930),k=s(4891),D=s(9234);const f=o.lazy((()=>(0,n.YM)((()=>s.e(397).then(s.bind(s,3397)))))),w=o.lazy((()=>(0,n.YM)((()=>s.e(284).then(s.bind(s,9284)))))),O=()=>{const{options:e,sorting:t,setSorting:s}=function(){const e=(0,m.I0)(),t=(0,m.v9)((e=>e.philosophersData.originalOptions)),s=(0,m.v9)((e=>e.philosophersData.options)),r=(0,m.v9)((e=>e.philosophersData.sorting)),n=(0,o.useCallback)((t=>e((0,k.ge)(t))),[]);return(0,o.useEffect)((()=>{const o=t=>e((0,k.Uf)(t));let n=[];t.length>1&&(r===g.y?(n=(0,D.xh)(t,s),o(n)):r===g.P&&(n=(0,D.CQ)(s),o(n)))}),[r]),{sorting:r,setSorting:n,options:s,originalOptions:t}}();let n=(0,h.t)();const{currentPhilosopher:l,isFetching:O,minMode:v,setMinMode:M}=n;return n={...n,setSorting:s,sorting:t},(0,r.WB)(l,e)?(0,i.jsx)("div",{className:_,children:O?(0,i.jsx)(f,{}):(0,i.jsxs)(i.Fragment,{children:[!v&&(0,i.jsx)(w,{...n}),!(0,a.nI)()&&(0,i.jsx)("button",{className:p,onClick:()=>M(!v),children:"Toggle Min Mode"}),(0,i.jsx)("div",{className:v?d:u,children:(0,i.jsx)(c,{...n,width:screen.width-20,height:screen.height})})]})}):(0,i.jsx)(i.Fragment,{})}},8614:(e,t,s)=>{s.d(t,{t:()=>h});var o=s(2791),r=s(4420),n=s(4755),a=s(6677),i=s(5938),l=s(8221),c=s(2922),u=s(1278);var d=s(4609),_=s(4891),p=s(9234);function h(){var e,t;const[s]=(0,n.Z)(),h=(0,o.useRef)(),m=(0,r.I0)(),{start:g,end:k,searchText:D,currentPhilosopher:f,currentData:w,markedMode:O,options:v,markedQuotes:M,scheduledPosts:C,darkMode:P,scrollPosition:y,originalData:S=(0,i.SD)({philosopher:f,options:v}),originalOptions:E,userName:b,isLoggedIn:T,password:Q,syncDate:I,restoreQuotesFromServerCachedDate:N,sorting:R,voiceSpeed:A,recentPhilosophers:x,minMode:F}=(0,r.v9)((e=>e.philosophersData)),[U,L]=(0,o.useState)(!1),[j,W]=(0,o.useState)(!1),[q,J]=(0,o.useState)(!1),K=(0,o.useCallback)((e=>m((0,_.i_)(e))),[]),B=(0,o.useCallback)((e=>m((0,_.sp)(e))),[]),Y=(0,o.useCallback)((e=>m((0,_.tA)(e))),[]),H=(0,o.useCallback)((e=>m((0,_.Ue)(e))),[]),Z=(0,o.useCallback)((e=>m((0,_.xy)(e))),[]),z=(0,o.useCallback)((e=>m((0,_.Wd)(e))),[]),$=(0,o.useCallback)((e=>m((0,_.Uf)(e))),[]),G=(0,o.useCallback)((e=>m((0,_.MQ)(e))),[]),X=(0,o.useCallback)((e=>m((0,_.IW)(e))),[]),V=(0,o.useCallback)((e=>m((0,_.c9)(e))),[]),ee=(0,o.useCallback)((e=>m((0,_.Rs)(e))),[]),te=(0,o.useCallback)((e=>m((0,_.Q6)(e))),[]),se=(0,o.useCallback)((e=>m((0,_.ih)(e))),[]),oe=(0,o.useCallback)((e=>m((0,_.pA)(e))),[]),re=(0,o.useCallback)((e=>m((0,_.FH)(e))),[]),ne=(0,o.useCallback)((e=>m((0,_._F)(e))),[]),ae=(0,o.useCallback)((e=>m((0,_.LU)(e))),[]),ie=(0,o.useCallback)((e=>m((0,_.z6)(e))),[]),le=(0,o.useCallback)((e=>m((0,_.xP)(e))),[]),ce=(0,o.useCallback)((e=>m((0,_.Yp)(e))),[]);return(0,o.useEffect)((()=>{T&&(async()=>{const e=Object.values(M).flat().length;(0,l.d)(N,a.I)&&await(0,p.lq)(b,M,s,G,ae,e)})()}),[T]),(0,o.useEffect)((()=>{(0,i.WB)(f,v)||(0,d.D)({options:v,setOptions:$,isLoggedIn:T,setSyncDate:ne,isFetchingOptions:j,setIsFetchingOptions:W,originalOptions:E,setOriginalOptions:te,sorting:R})}),[f]),(0,o.useEffect)((()=>{S&&async function(e,t){let{searchText:s,start:o,end:r,currentPhilosopher:n,currentData:a,originalData:i,setCurrentData:l,options:d}=e,{markedMode:_=!1,markedQuotes:p,setMarkedQuotes:h}=t,m=[];""===s&&1==o&&""==r?(0,c.gt)({currentPhilosopher:n,currentData:i,setCurrentData:l,options:d},{markedMode:_,markedQuotes:p,setMarkedQuotes:h}):(m=await(0,u.yC)({searchText:s,currentData:i,setCurrentData:l,currentPhilosopher:n,options:d}),m&&await(0,c.$X)(o,r,m,{markedMode:_,markedQuotes:p,setMarkedQuotes:h},{currentData:a,setCurrentData:l,originalData:i,currentPhilosopher:n}))}({searchText:D,start:g,end:k,currentPhilosopher:f,currentData:w,originalData:S,setCurrentData:z,options:v},{markedMode:O,markedQuotes:M,setMarkedQuotes:G})}),[g,k,D,O,f,null===(e=M[f])||void 0===e||null===(t=e.quotes)||void 0===t?void 0:t.length]),(0,o.useEffect)((()=>{(0,p.IE)(P)}),[P]),(0,o.useEffect)((()=>{(0,u.nI)()&&(V(!1),(0,p.IE)(!1))}),[P]),(0,o.useEffect)((()=>{document.title="".concat((0,c.PZ)({currentPhilosopher:f,options:v})," Quotes")}),[f]),{listRef:h,dispatch:m,start:g,end:k,searchText:D,currentPhilosopher:f,currentData:w,markedMode:O,options:v,markedQuotes:M,scheduledPosts:C,darkMode:P,scrollPosition:y,originalData:S,isFetching:U,setIsFetching:L,setStart:K,setEnd:B,setSearchText:Y,setMarkedMode:H,setCurrentPhilosopher:Z,setCurrentData:z,setOptions:$,setMarkedQuotes:G,setScheduledQuotes:X,setDarkMode:V,setScrollPosition:ee,originalOptions:E,setOriginalOptions:te,userName:b,setUserName:se,isLoggedIn:T,setIsLoggedIn:oe,password:Q,setPassword:re,isFetchingOptions:j,setIsFetchingOptions:W,rowsRendered:q,setRowsRendered:J,syncDate:I,setSyncDate:ne,voiceSpeed:A,recentPhilosophers:x,setRecentPhilosophers:ie,minMode:F,setMinMode:le,setLogs:ce,restoreQuotesFromServerCachedDate:N,setRestoreQuotesFromServerCachedDate:ae}}},9234:(e,t,s)=>{s.d(t,{CQ:()=>i,IE:()=>n,lq:()=>l,xh:()=>a});var o=s(5938),r=s(4652);const n=e=>{let t=document.getElementsByTagName("html")[0];t.className="",e?t.classList.add("darkTheme"):t.classList.add("lightTheme")},a=(e,t)=>e.map((e=>(0,o.vH)({philosopher:e.value,options:t}))).reverse(),i=e=>[...e].sort(((e,t)=>e.fullName.localeCompare(t.fullName)));async function l(e,t,s,o,n,a){const i=await(0,r.gu)({userName:e});if(i){if(i>a){let{markedQuotesFromServer:t}=await(0,r.M_)({userName:e,openSnackbar:s});o(t),s("Auto-Sync : Restored all marked quotes!",4e3)}else a>i&&await(0,r.yf)({userName:e,markedQuotes:t,openSnackbar:s});n(Date.now())}}},4652:(e,t,s)=>{s.d(t,{M_:()=>a,gu:()=>i,yf:()=>n,z9:()=>l});var o=s(4994),r=s(295);const n=async e=>{let{userName:t,markedQuotes:s,openSnackbar:n,setSyncDate:a}=e;await(0,r.YM)((async()=>await fetch(o.P.MARKED_QUOTES.BACKUP,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,markedQuotes:s,dateSynced:Date.now()})})))},a=async e=>{var t;let{userName:s,openSnackbar:n}=e,a=await(0,r.YM)((async()=>await fetch(o.P.MARKED_QUOTES.RESTORE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:s})})));if(a=await a.json(),null!==(t=a)&&void 0!==t&&t.ok)try{var i,l,c;const e=null===(i=a)||void 0===i||null===(l=i.results)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.markedQuotes,t=Object.values(e).flat().length;var u,d,_;if(e&&t>0)return{markedQuotesFromServer:e,dateFromServer:null===(u=a)||void 0===u||null===(d=u.results)||void 0===d||null===(_=d[0])||void 0===_?void 0:_.dateSynced}}catch(p){n(JSON.stringify(p))}else n(JSON.stringify(a.error))},i=async e=>{var t;let{userName:s}=e,n=await(0,r.YM)((async()=>await fetch(o.P.MARKED_QUOTES.GET_COUNT,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:s})})));var a;return n=await n.json(),null!==(t=n)&&void 0!==t&&t.ok?null===(a=n)||void 0===a?void 0:a.count:null},l=async e=>{var t;let{apiCallType:s,userName:n,password:a,setIsLoggedIn:i,openSnackbar:l,setIsFetching:c}=e;const u=n.charAt(0).toUpperCase()+n.slice(1);let d;c(!0),d="login"===s?await(0,r.YM)((async()=>await fetch(o.P.USER.LOGIN,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:n,password:a})}))):await(0,r.YM)((async()=>await fetch(o.P.USER.CREATE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:n,password:a})}))),d=await d.json(),c(!1),null!==(t=d)&&void 0!==t&&t.ok?(i(!0),l(u+" "+JSON.stringify(d.serverResponse))):l(JSON.stringify(d.error))}},2922:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$X:()=>searchByWordLength,AD:()=>getPhilosopherFullName_i10n,PZ:()=>getPhilosopherFullName,gt:()=>changeQuotesData});var _common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3456),_common_utils_staticDataUtils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(413),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9031);const changeQuotesData=(e,t)=>{let{currentPhilosopher:s,currentData:o,setCurrentData:r,options:n}=e,{markedMode:a=null,markedQuotes:i,setMarkedQuotes:l}=t;o&&r(o),void 0!==a&&a&&(0,_common_utils_staticDataUtils__WEBPACK_IMPORTED_MODULE_0__.H)({currentPhilosopher:s,markedMode:a,markedQuotes:i,setMarkedQuotes:l,currentData:o,setCurrentData:r})},getPhilosopherFullName=e=>{let{currentPhilosopher:t,options:s}=e;const o=s.filter((e=>{let{value:s}=e;return t===s}));if(!(0,_common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__.Z)(o))return o&&o[0].fullName},getPhilosopherFullName_i10n=e=>{let{currentPhilosopher:t,options:s}=e;const o=s.filter((e=>{let{value:s}=e;return t===s}));if(!(0,_common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__.Z)(o))return o&&o[0].fullNameInOtherLanguages},searchByWordLength=async(start,end,quotes,_ref7,_ref8)=>{let{markedMode:markedMode,markedQuotes:markedQuotes,setMarkedQuotes:setMarkedQuotes}=_ref7,{setCurrentData:setCurrentData,currentPhilosopher:currentPhilosopher}=_ref8;return new Promise((resolve=>{void 0!==quotes&&("string"===typeof start&&""===start.trim()&&(start=0),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_1__.K.postMessage({quotes:quotes,end:end,start:start,filterName:"wordCountFilter"}),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_1__.K.onmessage=event=>{const newData=JSON.parse(eval("(".concat(JSON.stringify(event.data),")")));changeQuotesData({currentData:newData,setCurrentData:setCurrentData,currentPhilosopher:currentPhilosopher},{markedMode:markedMode,markedQuotes:markedQuotes,setMarkedQuotes:setMarkedQuotes}),resolve()})}))};function getWordCount(e){return e.split(" ").filter((function(e){return""!==e})).length}},6677:e=>{e.exports={c:1e3,I:1}}}]);
//# sourceMappingURL=915.04151a11.chunk.js.map