{"version":3,"file":"static/js/UnreadCounter.80dbbf85.chunk.js","mappings":"kLAmCA,QA9BA,SAAsBA,GAAmF,IAAlF,WAAEC,EAAU,kBAAEC,EAAiB,aAAEC,EAAY,mBAAEC,EAAkB,WAAEC,GAAYL,EAClG,MAAOM,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,CAAEC,gBAAiB,KAAMC,UAAW,KAAMC,YAAa,OAChGC,GAAUC,EAAAA,EAAAA,IAAaC,GAAUA,EAAMC,iBAAiBH,SACxDI,GAAeC,EAAAA,EAAAA,GAAqB,CAAEC,YAAad,EAAoBQ,aACvE,gBAAEH,EAAe,UAAEC,EAAS,YAAEC,GAAgBL,EAC9Ca,EAAsBV,EAAe,IAAAW,QAASV,EAAYD,EAAmB,KAAKY,QAAQ,GAAE,MAAO,GAYzG,OAVAC,EAAAA,EAAAA,WAAU,KACN,IAAKrB,IAAeC,GAAqBc,EAAc,CACnD,MAAMP,EAAkBO,EAAaO,OAC/Bb,GAAYc,EAAAA,EAAAA,IAAYrB,EAAaC,IAAuB,EAAID,EAAaC,GAAoBmB,OAGvGhB,EAAe,CAAEE,kBAAiBC,YAAWC,YAFzBF,EAAkBC,GAG1C,GACD,CAACN,EAAoBH,EAAYC,EAAmBC,EAAca,EAAcX,KAE9EW,GAAgBf,GAAcC,EACxB,MAIPuB,EAAAA,EAAAA,MAAA,QAAAC,SAAA,CACyB,OAApBjB,GAAwB,UAAAW,OAAcX,GACxB,OAAdC,GAAkB,UAAAU,OAAcV,EAAS,KAAAU,OAAID,GAC7B,OAAhBR,GAAoB,YAAAS,OAAgBT,KAGjD,C","sources":["components/organisms/analysis/unread-counter/unread-counter.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { getPhilosopherQuotes } from '../../../../common/static/utils/utils'\nimport { isUndefined } from '../../../../common/utils/commonUtils'\n\nfunction UnreadCounter({ isFetching, isFetchingOptions, markedQuotes, currentPhilosopher, isLoggedIn }) {\n    const [quoteCounts, setQuoteCounts] = useState({ totalQuoteCount: null, readCount: null, unreadCount: null })\n    const options = useSelector((state) => state.philosophersData.options)\n    const originalData = getPhilosopherQuotes({ philosopher: currentPhilosopher, options })\n    const { totalQuoteCount, readCount, unreadCount } = quoteCounts\n    const percentageCompleted = totalQuoteCount ? `(${((readCount / totalQuoteCount) * 100).toFixed(2)}%)` : ''\n\n    useEffect(() => {\n        if (!isFetching && !isFetchingOptions && originalData) {\n            const totalQuoteCount = originalData.length\n            const readCount = isUndefined(markedQuotes[currentPhilosopher]) ? 0 : markedQuotes[currentPhilosopher].length\n            const unreadCount = totalQuoteCount - readCount\n\n            setQuoteCounts({ totalQuoteCount, readCount, unreadCount })\n        }\n    }, [currentPhilosopher, isFetching, isFetchingOptions, markedQuotes, originalData, isLoggedIn])\n\n    if (!originalData || isFetching || isFetchingOptions) {\n        return null // Render nothing while fetching data\n    }\n\n    return (\n        <span>\n            {totalQuoteCount !== null && `Total: ${totalQuoteCount}`}\n            {readCount !== null && ` Read: ${readCount} ${percentageCompleted}`}\n            {unreadCount !== null && ` Unread: ${unreadCount}`}\n        </span>\n    )\n}\n\nexport default UnreadCounter\n"],"names":["_ref","isFetching","isFetchingOptions","markedQuotes","currentPhilosopher","isLoggedIn","quoteCounts","setQuoteCounts","useState","totalQuoteCount","readCount","unreadCount","options","useSelector","state","philosophersData","originalData","getPhilosopherQuotes","philosopher","percentageCompleted","concat","toFixed","useEffect","length","isUndefined","_jsxs","children"],"sourceRoot":""}