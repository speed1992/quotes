{"version":3,"file":"static/js/388.0f8811a3.chunk.js","mappings":"wMAmBC,SAAAA,IAAA,OAAAA,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAjBM,SAAAC,EAAoBC,EAAOC,EAAaC,EAAYC,EAAWC,EAASC,GAAiB,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAb,EAAAA,EAAAA,KAAAc,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OASxC,GAR9CR,EAAQS,OAAOC,gBACjBT,EAAaD,EAAMW,SAEjBT,EAASF,EAAMY,YAER,WAAO,CACpBC,GAEIV,EAAI,IAAIW,SAAQ,SAACC,GAAO,OAAeA,CAAO,IAE7Cd,EAAW,CAADK,EAAAE,KAAA,SACFJ,EAAIV,EAAM,KAAD,OAAEU,EAAIT,EAAYqB,QAAM,CAAAV,EAAAE,KAAA,SAEO,OAD7CT,EAAkBK,IAClBa,EAAAA,EAAAA,IAAqBnB,EAASM,EAAGT,GAAYW,EAAAE,KAAA,GACvCM,QAAQI,KAAK,CAACf,EAAGgB,EAAaxB,EAAYS,GAAU,MAAGR,EAAYC,EAAWK,KAAS,QAHrDE,IAAGE,EAAAE,KAAA,iCAAAF,EAAAc,OAAA,GAAA3B,EAAA,MAKtD4B,MAAA,KAAAC,UAAA,CAED,SAASH,EAAaI,EAAS3B,EAAYC,EAAWK,GAClD,IAAIsB,EAAQ,IAAIC,yBAAyBF,GAMzC,OALAC,EAAME,KAAO9B,EACb4B,EAAMG,MAAQzB,EAAOL,GACrB2B,EAAMI,KAAO1B,EAAOL,GAAW+B,KAC/BnB,OAAOC,gBAAgBmB,MAAML,GAEtB,IAAIV,SAAQ,SAACC,EAASe,GAAM,OAAMN,EAAMO,MAAQhB,CAAO,GAClE,C,aClBA,EAPc,SAAHiB,GAAwF,IAAlFtC,EAAKsC,EAALtC,MAAOC,EAAWqC,EAAXrC,YAAasC,EAAcD,EAAdC,eAAgBlC,EAAiBiC,EAAjBjC,kBAAmBD,EAAOkC,EAAPlC,QAASF,EAAUoC,EAAVpC,WACvEC,GAAYqC,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMC,iBAAiBvC,SAAS,IAEnEwC,GAAcC,EAAAA,EAAAA,cAAY,kBDL7B,SAAmBC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,OAAAvD,EAAAgC,MAAC,KAADC,UAAA,CCKgBuB,CAAKnD,EAAOC,EAAaC,EAAYC,EAAWC,EAASC,EAAkB,GAAE,CAACJ,EAAaD,EAAOI,EAASmC,EAAgBlC,EAAmBH,EAAYC,IAEhM,OAAOiD,EAAAA,EAAAA,MAAA,UAAQC,QAASrC,gBAAgBC,SAAW,kBAAMD,gBAAgBG,QAAQ,EAAGwB,EAAYW,SAAA,CAAEtC,gBAAgBC,SAAW,OAAS,OAAO,WACjJ,C","sources":["components/organisms/tools/audio/utils/speechUtils.js","components/organisms/tools/audio/audio.jsx"],"sourcesContent":["import { scrollToMemorizedRow } from '../../../../../common/utils/utils'\r\n\r\nexport async function play(index, currentData, voiceSpeed, voiceType, listRef, setScrollPosition) {\r\n    const synth = window.speechSynthesis,\r\n        isSpeaking = synth.speaking\r\n\r\n    const voices = synth.getVoices()\r\n\r\n    let cancel = () => {}\r\n    cancel()\r\n\r\n    let p = new Promise((resolve) => (cancel = resolve))\r\n\r\n    if (!isSpeaking)\r\n        for (let i = index; i < currentData.length; i++) {\r\n            setScrollPosition(i)\r\n            scrollToMemorizedRow(listRef, i, currentData)\r\n            await Promise.race([p, getNextAudio(currentData[i]['quote'], voiceSpeed, voiceType, voices)])\r\n        }\r\n}\r\n\r\nfunction getNextAudio(message, voiceSpeed, voiceType, voices) {\r\n    let audio = new SpeechSynthesisUtterance(message)\r\n    audio.rate = voiceSpeed\r\n    audio.voice = voices[voiceType]\r\n    audio.lang = voices[voiceType].lang\r\n    window.speechSynthesis.speak(audio)\r\n\r\n    return new Promise((resolve, reject) => (audio.onend = resolve))\r\n}\r\n","import React, { useCallback } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { play } from './utils/speechUtils'\r\n\r\nconst Audio = ({ index, currentData, scrollPosition, setScrollPosition, listRef, voiceSpeed }) => {\r\n    const voiceType = useSelector((state) => state.philosophersData.voiceType)\r\n\r\n    const playHandler = useCallback(() => play(index, currentData, voiceSpeed, voiceType, listRef, setScrollPosition), [currentData, index, listRef, scrollPosition, setScrollPosition, voiceSpeed, voiceType])\r\n\r\n    return <button onClick={speechSynthesis.speaking ? () => speechSynthesis.cancel() : playHandler}>{speechSynthesis.speaking ? 'Stop' : 'Play'} Audio</button>\r\n}\r\nexport default Audio\r\n"],"names":["_play","_asyncToGenerator","_regeneratorRuntime","mark","_callee","index","currentData","voiceSpeed","voiceType","listRef","setScrollPosition","synth","isSpeaking","voices","p","i","wrap","_context","prev","next","window","speechSynthesis","speaking","getVoices","cancel","Promise","resolve","length","scrollToMemorizedRow","race","getNextAudio","stop","apply","arguments","message","audio","SpeechSynthesisUtterance","rate","voice","lang","speak","reject","onend","_ref","scrollPosition","useSelector","state","philosophersData","playHandler","useCallback","_x","_x2","_x3","_x4","_x5","_x6","play","_jsxs","onClick","children"],"sourceRoot":""}