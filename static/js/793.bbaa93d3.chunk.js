"use strict";(self.webpackChunkquotes=self.webpackChunkquotes||[]).push([[793],{4994:function(e,t,r){r.d(t,{P:function(){return s}});var n="https://quotes-backend.vercel.app/api",o="https://cdn.jsdelivr.net/gh/speed1992/quotes/src/common/static",s={STATIC_DATA:{STATIC_QUOTES:"".concat(o,"/assets/quotes/"),STATIC_ASSET_GRAPH:"".concat(o,"/philosophers-data.json")},MARKED_QUOTES:{BACKUP:"".concat(n,"/markedQuotes/backup"),RESTORE:"".concat(n,"/markedQuotes/restore")},USER:{LOGIN:"".concat(n,"/user/login"),CREATE:"".concat(n,"/user/create")},TRANSLATE:"https://translate.argosopentech.com/translate"}},5938:function(e,t,r){r.d(t,{SD:function(){return c},WB:function(){return p},a2:function(){return _},dA:function(){return a},lf:function(){return u},vH:function(){return i}});var n=r(3433),o=r(4994),s=r(295),a=function(e,t,r,a){var i=t.options,c=t.setOptions;return new Promise((function(t,_){var p=e.toLowerCase();(0,s.YM)((function(){return fetch(o.P.STATIC_DATA.STATIC_QUOTES+p+".json")})).then((function(e){return e.json()})).then((function(o){a&&a.map((function(e){return e(o)})),function(e,t,r){var o=t.options,s=t.setOptions,a=JSON.parse(JSON.stringify(o));if("all"===e.trim().toLowerCase()){var i,c=u(e,o);i=void 0===a[c].quotes?[]:a[c].quotes,a[c].quotes=[].concat((0,n.Z)(i),(0,n.Z)(r))}else a[u(e,o)].quotes=r;s(a)}(e,{options:i,setOptions:c},o),r(!0),t()})).catch((function(e){return _(e)}))}))},u=function(e,t){return t.findIndex((function(t){return t.value===e}))},i=function(e){var t=e.philosopher;return e.options.filter((function(e){return e.value===t}))[0]},c=function(e){var t,r=e.philosopher;return null===(t=e.options.filter((function(e){return e.value===r}))[0])||void 0===t?void 0:t.quotes},_=function(e,t){return t[u(e,t)].fullName},p=function(e,t){return!!t[u(e,t)]}},3456:function(e,t,r){r.d(t,{Z:function(){return o},k$:function(){return s},o8:function(){return n}});var n=function(e){return"undefined"===typeof e},o=function(e){return 0===Object.values(e).length&&e.constructor===Object};function s(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},413:function(e,t,r){r.d(t,{H:function(){return s}});var n=r(3433);r(2791);function o(e,t){var r=localStorage.getItem(e),n=JSON.parse(r);return void 0===n||"undefined"===n||"null"===n||null===n?t:n}var s=function(e){var t=e.index,r=e.currentPhilosopher,s=(e.markedMode,e.markedQuotes),a=void 0===s?{}:s,u=e.setMarkedQuotes,i=e.currentData,c=e.setCurrentData,_=JSON.parse(JSON.stringify(a)),p=[],f="".concat(r,"-MARKED_AS_READ");p=o(f,[]),a&&void 0!==a[r]&&(p=[].concat((0,n.Z)(p),(0,n.Z)(a[r]))),p=(0,n.Z)(new Set(p)),t&&p.push(t),_[r]=p,u(_);var l=i.filter((function(e,t){var r=e.id;return-1===p.indexOf(r)}));c(JSON.parse(JSON.stringify(l)))}},9031:function(e,t,r){var n;r.d(t,{K:function(){return n}}),window.Worker?n=new Worker(new URL(r.p+r.u(345),r.b)):alert("Your browser doesn't support web workers.")},3793:function(e,t,r){r.d(t,{D:function(){return m},H:function(){return d}});var n=r(4165),o=r(5861),s=r(4994),a=r(5938),u=r(295),i=r(3433),c=r(1930),_=r(2439),p=r(9234),f=function(e){var t=e.newOptions,r=e.oldOptions,n=(e.oldOriginalOptions,e.setOptions),o=e.setOriginalOptions,s=e.sorting,u=[].concat((0,i.Z)(_.R),(0,i.Z)(t)),f=function(e,t){var r=JSON.parse(JSON.stringify(t));return r.forEach((function(t,n){var o=(0,a.lf)(t.value,e);-1!==o&&(r[n].quotes=e[o].quotes)})),r}(r,(0,i.Z)(u));s===c.y?f=(0,p.xh)(u,f):s===c.P&&(f=(0,p.CQ)(f)),n((0,i.Z)(f)),o(u)},l=r(2922);function d(e){var t=e.philosopher,r=(e.listRef,e.setIsFetching),n=e.setStart,o=e.setEnd,s=e.setSearchText,u=e.setCurrentPhilosopher,i=e.currentData,c=e.setCurrentData,_=e.options,p=e.setOptions,f=e.setQuotesLoaded,d=e.markedMode,m=e.markedQuotes,h=e.setMarkedQuotes,k=(e.scrollPosition,e.setRowsRendered);function v(){u(t),(0,l.gt)({philosopher:t,currentData:i,setCurrentData:c,options:_},{markedMode:d,markedQuotes:m,setMarkedQuotes:h}),r(!1),k(!1)}n(1),o(""),s(""),r(!0),(0,a.SD)({philosopher:t,options:_})?v():(0,a.dA)(t,{options:_,setOptions:p},f,[]).then(v)}var m=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t){var r,o,a,i,c,_,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.options,o=t.setOptions,t.isFetchingOptions,a=t.setIsFetchingOptions,i=t.originalOptions,c=t.setOriginalOptions,_=t.sorting,a&&a(!0),e.next=4,(0,u.YM)((function(){return fetch(s.P.STATIC_DATA.STATIC_ASSET_GRAPH)}));case 4:return p=e.sent,e.next=7,p.json();case 7:p=e.sent,f({newOptions:p,oldOptions:r,oldOriginalOptions:i,setOptions:o,setOriginalOptions:c,sorting:_}),a&&a(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1930:function(e,t,r){r.d(t,{P:function(){return o},y:function(){return n}});var n="latest",o="alphabetical"},9234:function(e,t,r){r.d(t,{CQ:function(){return _},IE:function(){return i},lq:function(){return f},qZ:function(){return p},xh:function(){return c}});var n=r(4165),o=r(5861),s=r(3433),a=r(5938),u=r(4652),i=function(e){var t=document.getElementsByTagName("html")[0];t.className="",e?t.classList.add("darkTheme"):t.classList.add("lightTheme")},c=function(e,t){return e.map((function(e){return(0,a.vH)({philosopher:e.value,options:t})})).reverse()},_=function(e){return(0,s.Z)(e).sort((function(e,t){return e.fullName.localeCompare(t.fullName)}))};function p(e){var t=new Date,r=new Date(e);return t.setHours(0,0,0,0),{currentClientDate:t=t.getTime(),lastSyncClientDate:r=r.setHours(0,0,0,0)}}function f(e,t,r,n,o,s,a){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)((0,n.Z)().mark((function e(t,r,o,s,a,i,c){var _,p,f,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.M_)({userName:t,markedQuotes:r,openSnackbar:o,setMarkedQuotes:s});case 2:if(_=e.sent,p=_.markedQuotesFromServer,f=_.dateFromServer,a(Date.now()),!p){e.next=19;break}if(!((l=Object.values(p).flat().length)>i)){e.next=13;break}s(p),o("Auto-Sync : Restored all marked quotes!",4e3),e.next=19;break;case 13:if(!(i>l)){e.next=19;break}if((f=new Date(f)).setHours(0,0,0,0),!(c>f)){e.next=19;break}return e.next=19,(0,u.yf)({userName:t,markedQuotes:r,openSnackbar:o});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},4652:function(e,t,r){r.d(t,{M_:function(){return i},yf:function(){return u},z9:function(){return c}});var n=r(4165),o=r(5861),s=r(4994),a=r(295),u=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t){var r,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userName,u=t.markedQuotes,t.openSnackbar,t.setSyncDate,e.next=3,(0,a.YM)((0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(s.P.MARKED_QUOTES.BACKUP,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:r,markedQuotes:u,dateSynced:Date.now()})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t){var r,u,i,c,_,p,f,l,d,m,h,k;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.userName,t.markedQuotes,i=t.openSnackbar,t.setMarkedQuotes,e.next=3,(0,a.YM)((0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(s.P.MARKED_QUOTES.RESTORE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:u})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 3:return c=e.sent,e.next=6,c.json();case 6:if(c=e.sent,null===(r=c)||void 0===r||!r.ok){e.next=20;break}if(e.prev=8,l=null===(_=c)||void 0===_||null===(p=_.results)||void 0===p||null===(f=p[0])||void 0===f?void 0:f.markedQuotes,d=Object.values(l).flat().length,!(l&&d>0)){e.next=13;break}return e.abrupt("return",{markedQuotesFromServer:l,dateFromServer:null===(m=c)||void 0===m||null===(h=m.results)||void 0===h||null===(k=h[0])||void 0===k?void 0:k.dateSynced});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),i(JSON.stringify(e.t0));case 18:e.next=21;break;case 20:i(JSON.stringify(c.error));case 21:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t){var r,u,i,c,_,p,f,l,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t.apiCallType,i=t.userName,c=t.password,_=t.setIsLoggedIn,p=t.openSnackbar,f=t.setIsFetching,l=i.charAt(0).toUpperCase()+i.slice(1),f(!0),"login"!==u){e.next=9;break}return e.next=6,(0,a.YM)((0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(s.P.USER.LOGIN,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:i,password:c})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 6:d=e.sent,e.next=12;break;case 9:return e.next=11,(0,a.YM)((0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(s.P.USER.CREATE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:i,password:c})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 11:d=e.sent;case 12:return e.next=14,d.json();case 14:d=e.sent,f(!1),null!==(r=d)&&void 0!==r&&r.ok?(_(!0),p(l+" "+JSON.stringify(d.serverResponse))):p(JSON.stringify(d.error));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},2922:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$X:function(){return searchByWordLength},AD:function(){return getPhilosopherFullName_i10n},PZ:function(){return getPhilosopherFullName},gt:function(){return changeQuotesData}});var C_Users_paras_Desktop_quotes_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4165),C_Users_paras_Desktop_quotes_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5861),_common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3456),_common_utils_staticDataUtils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(413),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9031),changeQuotesData=function(e,t){var r=e.currentPhilosopher,n=e.currentData,o=e.setCurrentData,s=(e.options,t.markedMode),a=void 0===s?null:s,u=t.markedQuotes,i=t.setMarkedQuotes;n&&o(n),void 0!==a&&a&&(0,_common_utils_staticDataUtils__WEBPACK_IMPORTED_MODULE_0__.H)({currentPhilosopher:r,markedMode:a,markedQuotes:u,setMarkedQuotes:i,currentData:n,setCurrentData:o})},getPhilosopherFullName=function(e){var t=e.currentPhilosopher,r=e.options.filter((function(e){var r=e.value;return t===r}));if(!(0,_common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__.Z)(r))return r&&r[0].fullName},getPhilosopherFullName_i10n=function(e){var t=e.currentPhilosopher,r=e.options.filter((function(e){var r=e.value;return t===r}));if(!(0,_common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__.Z)(r))return r&&r[0].fullNameInOtherLanguages},searchByWordLength=function(){var _ref9=(0,C_Users_paras_Desktop_quotes_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,C_Users_paras_Desktop_quotes_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4__.Z)().mark((function _callee(start,end,quotes,_ref7,_ref8){var markedMode,markedQuotes,setMarkedQuotes,setCurrentData,currentPhilosopher;return(0,C_Users_paras_Desktop_quotes_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4__.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return markedMode=_ref7.markedMode,markedQuotes=_ref7.markedQuotes,setMarkedQuotes=_ref7.setMarkedQuotes,setCurrentData=_ref8.setCurrentData,currentPhilosopher=_ref8.currentPhilosopher,_context.abrupt("return",new Promise((function(resolve){void 0!==quotes&&("string"===typeof start&&""===start.trim()&&(start=0),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_1__.K.postMessage({quotes:quotes,end:end,start:start,filterName:"wordCountFilter"}),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_1__.K.onmessage=function(event){var newData=JSON.parse(eval("(".concat(JSON.stringify(event.data),")")));changeQuotesData({currentData:newData,setCurrentData:setCurrentData,currentPhilosopher:currentPhilosopher},{markedMode:markedMode,markedQuotes:markedQuotes,setMarkedQuotes:setMarkedQuotes}),resolve()})})));case 3:case"end":return _context.stop()}}),_callee)})));return function(e,t,r,n,o){return _ref9.apply(this,arguments)}}();function getWordCount(e){return e.split(" ").filter((function(e){return""!==e})).length}}}]);
//# sourceMappingURL=793.bbaa93d3.chunk.js.map