(self.webpackChunkquotes=self.webpackChunkquotes||[]).push([[345],{4545:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(3003),n=s(3110);const o=()=>{const e=(0,a.wA)();return[function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1400;e((0,n.tY)(t)),setTimeout((()=>e((0,n.tY)(""))),s)}]}},6228:(e,t,s)=>{"use strict";s.d(t,{XY:()=>n,b0:()=>a,gZ:()=>o});const a=e=>"undefined"===typeof e,n=e=>0===Object.values(e).length&&e.constructor===Object;function o(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}},7442:(e,t,s)=>{"use strict";s.d(t,{v:()=>n});s(5043);function a(e,t){const s=localStorage.getItem(e),a=JSON.parse(s);return void 0===a||"undefined"===a||"null"===a||null===a?t:a}const n=e=>{let{index:t,currentPhilosopher:s,markedMode:n,markedQuotes:o={},setMarkedQuotes:r,currentData:i,setCurrentData:l}=e,c=JSON.parse(JSON.stringify(o)),u=[];u=a(`${s}-MARKED_AS_READ`,[]),o&&void 0!==o[s]&&(u=[...u,...o[s]]),u=[...new Set(u)],t&&u.push(t),c[s]=u,r(c);const d=i.filter(((e,t)=>{let{id:s}=e;return-1===u.indexOf(s)}));l(JSON.parse(JSON.stringify(d)))}},270:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(5043),n=s(3003),o=s(1589),r=s(8418),i=s(6228),l=s(1866),c=s(5239),u=s.n(c);const d=async(e,t)=>{const s=document.getElementsByTagName("html")[0],a=document.getElementsByTagName("body")[0];let n=s.clientWidth,o=a.clientWidth;const r=e.scrollWidth-e.clientWidth;r>e.clientWidth&&(n+=r,o+=r),s.style.width=n+"px",a.style.width=o+"px";((e,t)=>{const s=window.document.createElement("a");s.style="display:none;",s.download=t,s.href=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),s.remove()})((await u()(e,{scale:3})).toDataURL("image/png",1),t),s.style.width=null,a.style.width=null};function p(e,t,s,o){const c=(0,n.wA)();(0,a.useEffect)((()=>{(0,l.lQ)(!0)}),[]),(0,a.useEffect)((()=>{!async function(){const a=`${e}-quote-${(0,i.gZ)()}.png`;void 0!==t&&!0===t?await(async(e,t)=>{(async()=>{"share"in navigator&&(await u()(e,{scale:3})).toBlob((async e=>{const s={files:[new File([e],t,{type:e.type})]};if(navigator.canShare(s))try{await navigator.share(s)}catch(a){"AbortError"!==a.name&&console.error(a.name,a.message)}else console.warn("Sharing not supported",s)}))})()})(s.current,a):await d(s.current,a),o||(0,l.lQ)(!1),c((0,r.GV)(""))}()}),[s,e,t])}var h=s(579);const m=a.lazy((()=>(0,o.Uw)((()=>s.e(876).then(s.bind(s,575)))))),v=a.lazy((()=>(0,o.Uw)((()=>s.e(962).then(s.bind(s,4383)))))),f=()=>{let{quotationText:e,philosopherFullName:t,signature:o,share:r=!1}=(0,n.d4)((e=>e.quoteImage));const i=(0,a.useRef)(),l=(0,n.d4)((e=>e.philosophersData.currentPhilosopher)),c={exportRef:i,quotationText:e,philosopherFullName:t,signature:o};p(t,r,i,(0,n.d4)((e=>e.philosophersData.darkMode)));try{const e=`${l}.jpg`;return s(7853)("./"+e),(0,h.jsx)(m,{...c,imageName:e})}catch(u){return(0,h.jsx)(v,{...c})}}},1866:(e,t,s)=>{"use strict";s.d(t,{Kf:()=>i,XB:()=>l,lQ:()=>r,xm:()=>c,z8:()=>u});var a=s(7308),n=s(7052),o=s(5499);const r=e=>{let t=document.getElementsByTagName("html")[0];t.className="",e?t.classList.add("darkTheme"):t.classList.add("lightTheme")},i=(e,t)=>e.map((e=>(0,a.iL)({philosopher:e.value,options:t}))).reverse(),l=e=>[...e].sort(((e,t)=>e.fullName.localeCompare(t.fullName)));async function c(e,t,s,a,o,r){const i=await(0,n.kr)({userName:e});if(i){if(i>r){let{markedQuotesFromServer:t}=await(0,n.sE)({userName:e,openSnackbar:s});a(t),s("Auto-Sync : Restored all marked quotes!",4e3)}else r>i&&await(0,n.G9)({userName:e,markedQuotes:t,openSnackbar:s});o(Date.now())}}const u=e=>{let{currentPhilosopher:t,options:s,markedQuotes:n,setStart:r,setEnd:i}=e;const l=(0,a.$)({philosopher:t,options:s}),c=(null===n||void 0===n?void 0:n[t])||[],u=l.filter((e=>!c.includes(e.id))).reduce(((e,t)=>{let{quote:s}=t;return""!==s?Math.min((0,o.sQ)(s),e):e}),1/0);u!==1/0&&(r(1),i(u))}},7052:(e,t,s)=>{"use strict";s.d(t,{G9:()=>o,fk:()=>l,kr:()=>i,sE:()=>r});var a=s(8380),n=s(1589);const o=async e=>{let{userName:t,markedQuotes:s,openSnackbar:o,setSyncDate:r}=e;await(0,n.Uw)((async()=>await fetch(a.S.MARKED_QUOTES.BACKUP,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,markedQuotes:s,dateSynced:Date.now()})})))},r=async e=>{var t;let{userName:s,openSnackbar:o}=e,r=await(0,n.Uw)((async()=>await fetch(a.S.MARKED_QUOTES.RESTORE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:s})})));if(r=await r.json(),null!==(t=r)&&void 0!==t&&t.ok)try{var i,l,c;const e=null===(i=r)||void 0===i||null===(l=i.results)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.markedQuotes,t=Object.values(e).flat().length;var u,d,p;if(e&&t>0)return{markedQuotesFromServer:e,dateFromServer:null===(u=r)||void 0===u||null===(d=u.results)||void 0===d||null===(p=d[0])||void 0===p?void 0:p.dateSynced}}catch(h){o(JSON.stringify(h))}else o(JSON.stringify(r.error))},i=async e=>{var t;let{userName:s}=e,o=await(0,n.Uw)((async()=>await fetch(a.S.MARKED_QUOTES.GET_COUNT,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:s})})));var r;return o=await o.json(),null!==(t=o)&&void 0!==t&&t.ok?null===(r=o)||void 0===r?void 0:r.count:null},l=async e=>{var t;let{apiCallType:s,userName:o,password:r,setIsLoggedIn:i,openSnackbar:l,setIsFetching:c}=e;const u=o.charAt(0).toUpperCase()+o.slice(1);let d;c(!0),d="login"===s?await(0,n.Uw)((async()=>await fetch(a.S.USER.LOGIN,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:o,password:r})}))):await(0,n.Uw)((async()=>await fetch(a.S.USER.CREATE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:o,password:r})}))),d=await d.json(),c(!1),null!==(t=d)&&void 0!==t&&t.ok?(i(!0),l(u+" "+JSON.stringify(d.serverResponse))):l(JSON.stringify(d.error))}},5499:(e,t,s)=>{"use strict";s.d(t,{Yv:()=>r,cJ:()=>o,sQ:()=>l,tq:()=>i});var a=s(6228),n=s(7442);const o=(e,t)=>{let{currentPhilosopher:s,currentData:a,setCurrentData:o,options:r}=e,{markedMode:i=null,markedQuotes:l,setMarkedQuotes:c}=t;a&&o(a),void 0!==i&&i&&(0,n.v)({currentPhilosopher:s,markedMode:i,markedQuotes:l,setMarkedQuotes:c,currentData:a,setCurrentData:o})},r=e=>{let{currentPhilosopher:t,options:s}=e;const n=s.filter((e=>{let{value:s}=e;return t===s}));if(!(0,a.XY)(n))return n&&n[0].fullName},i=e=>{let{currentPhilosopher:t,options:s}=e;const n=s.filter((e=>{let{value:s}=e;return t===s}));if(!(0,a.XY)(n))return n&&n[0].fullNameInOtherLanguages};function l(e){return e.split(" ").filter((function(e){return""!==e})).length}},9518:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(5043),n=s(3003),o=s(4545),r=s(5630);const i={modal:"exclusions-inclusions_modal__h+NkE",clearBtn:"exclusions-inclusions_clearBtn__hHaS6"};var l=s(579);const c=()=>{const e=(0,n.wA)(),[t]=(0,o.A)(),s=(0,n.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.philosophersData)||void 0===t?void 0:t.searchFilters})),[c,u]=(0,a.useState)(s);return(0,l.jsxs)("div",{className:null===i||void 0===i?void 0:i.modal,children:[(0,l.jsx)("h5",{children:"Exclusions"}),(0,l.jsx)("textarea",{rows:"10",onChange:e=>{var t,s;return u({...c,exclusions:null===e||void 0===e||null===(t=e.target)||void 0===t||null===(s=t.value)||void 0===s?void 0:s.toLowerCase()})},value:null===c||void 0===c?void 0:c.exclusions}),(0,l.jsx)("h5",{children:"Inclusions"}),(0,l.jsx)("textarea",{rows:"10",onChange:e=>{var t,s;return u({...c,inclusions:null===e||void 0===e||null===(t=e.target)||void 0===t||null===(s=t.value)||void 0===s?void 0:s.toLowerCase()})},value:null===c||void 0===c?void 0:c.inclusions}),(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{onClick:()=>{e((0,r.cd)(c)),t("Exclusions/Inclusions Updated!",4e3)},children:"Add"}),(0,l.jsx)("button",{className:null===i||void 0===i?void 0:i.clearBtn,onClick:()=>{const s={inclusions:"",exclusions:""};u(s),e((0,r.cd)(s)),t("Exclusions/Inclusions Updated!",4e3)},children:"Clear"})]})]})}},7853:(e,t,s)=>{var a={"./BEAUVOIR.jpg":1848,"./BUKOWSKI.jpg":1322,"./CARL_JUNG.jpg":8094,"./FREUD.jpg":139,"./MARK_TWAIN.jpg":4554,"./OSHO.jpg":5984,"./PETERSON.jpg":3527,"./RICKY_GERVAIS.png":4507,"./ROUSSEAU.jpg":1502};function n(e){var t=o(e);return s(t)}function o(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=o,e.exports=n,n.id=7853},1848:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/BEAUVOIR.a37acf7026379a5c745f.jpg"},1322:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/BUKOWSKI.3ed907dda532b04aa57a.jpg"},8094:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/CARL_JUNG.12be5cab35dd5548822a.jpg"},139:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/FREUD.fa5e080abec887337460.jpg"},4554:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/MARK_TWAIN.d04dc676af5be490f48a.jpg"},5984:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/OSHO.45432ce7c4c8818ad65c.jpg"},3527:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/PETERSON.f3968a4c45466650e225.jpg"},4507:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/RICKY_GERVAIS.975580860d1cf99727fc.png"},1502:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/ROUSSEAU.bd65f104307ba9482677.jpg"}}]);
//# sourceMappingURL=GenerateQuoteImage.1708d977.chunk.js.map