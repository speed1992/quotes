(self.webpackChunkquotes=self.webpackChunkquotes||[]).push([[551],{5938:(e,t,a)=>{"use strict";a.d(t,{SD:()=>c,WB:()=>d,a2:()=>l,dA:()=>n,lf:()=>r,vH:()=>i});var s=a(4994),o=a(295);const n=(e,t,a)=>{let{options:n,setOptions:i}=t;return new Promise(((t,c)=>{const l=e.toLowerCase();(0,o.YM)((()=>fetch(s.P.STATIC_DATA.STATIC_QUOTES+l+".json"))).then((e=>e.json())).then((s=>{null===a||void 0===a||a.map((e=>e(s))),((e,t,a)=>{let{options:s,setOptions:o}=t;const n=JSON.parse(JSON.stringify(s));if("all"===e.trim().toLowerCase()){const t=r(e,s);let o;o=void 0===n[t].quotes?[]:n[t].quotes,n[t].quotes=[...o,...a]}else n[r(e,s)].quotes=a;o(n)})(e,{options:n,setOptions:i},s),t()})).catch((e=>c(e)))}))},r=(e,t)=>t.findIndex((t=>{let{value:a}=t;return a===e})),i=e=>{let{philosopher:t,options:a}=e;return a.filter((e=>{let{value:a}=e;return a===t}))[0]},c=e=>{var t;let{philosopher:a,options:s}=e;return null===(t=s.filter((e=>{let{value:t}=e;return t===a}))[0])||void 0===t?void 0:t.quotes},l=(e,t)=>t[r(e,t)].fullName,d=(e,t)=>!!t[r(e,t)]},3456:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o,k$:()=>n,o8:()=>s});const s=e=>"undefined"===typeof e,o=e=>0===Object.values(e).length&&e.constructor===Object;function n(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}},9551:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var s=a(2791),o=a(8687),n=a(295),r=a(303),i=a(3456),c=a(9234),l=a(5498),d=a.n(l);const u=async(e,t)=>{const a=document.getElementsByTagName("html")[0],s=document.getElementsByTagName("body")[0];let o=a.clientWidth,n=s.clientWidth;const r=e.scrollWidth-e.clientWidth;r>e.clientWidth&&(o+=r,n+=r),a.style.width=o+"px",s.style.width=n+"px";((e,t)=>{const a=window.document.createElement("a");a.style="display:none;",a.download=t,a.href=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),a.remove()})((await d()(e,{scale:3})).toDataURL("image/png",1),t),a.style.width=null,s.style.width=null};function p(e,t,a,n){const l=(0,o.I0)();(0,s.useEffect)((()=>{(0,c.IE)(!0)}),[]),(0,s.useEffect)((()=>{!async function(){const s="".concat(e,"-quote-").concat((0,i.k$)(),".png");void 0!==t&&!0===t?await(async(e,t)=>{(async()=>{"share"in navigator&&(await d()(e,{scale:3})).toBlob((async e=>{const a={files:[new File([e],t,{type:e.type})]};if(navigator.canShare(a))try{await navigator.share(a)}catch(s){"AbortError"!==s.name&&console.error(s.name,s.message)}else console.warn("Sharing not supported",a)}))})()})(a.current,s):await u(a.current,s),n||(0,c.IE)(!1),l((0,r.Mk)(""))}()}),[a,e,t])}var m=a(184);const h=s.lazy((()=>(0,n.YM)((()=>a.e(11).then(a.bind(a,6011)))))),y=s.lazy((()=>(0,n.YM)((()=>a.e(358).then(a.bind(a,8358)))))),f=()=>{let{quotationText:e,philosopherFullName:t,signature:n,share:r=!1}=(0,o.v9)((e=>e.quoteImage));const i=(0,s.useRef)(),c=(0,o.v9)((e=>e.philosophersData.currentPhilosopher)),l={exportRef:i,quotationText:e,philosopherFullName:t,signature:n};p(t,r,i,(0,o.v9)((e=>e.philosophersData.darkMode)));try{const e="".concat(c,".jpg");return a(2892)("./"+e),(0,m.jsx)(h,{...l,imageName:e})}catch(d){return(0,m.jsx)(y,{...l})}}},9234:(e,t,a)=>{"use strict";a.d(t,{CQ:()=>i,IE:()=>n,lq:()=>c,xh:()=>r});var s=a(5938),o=a(4652);const n=e=>{let t=document.getElementsByTagName("html")[0];t.className="",e?t.classList.add("darkTheme"):t.classList.add("lightTheme")},r=(e,t)=>e.map((e=>(0,s.vH)({philosopher:e.value,options:t}))).reverse(),i=e=>[...e].sort(((e,t)=>e.fullName.localeCompare(t.fullName)));async function c(e,t,a,s,n,r){const i=await getUserMarkedQuotesCount({userName:e});if(i){if(i>r){let{markedQuotesFromServer:n,dateFromServer:r}=await(0,o.M_)({userName:e,markedQuotes:t,openSnackbar:a,setMarkedQuotes:s});s(n),a("Auto-Sync : Restored all marked quotes!",4e3)}else r>i&&(await(0,o.yf)({userName:e,markedQuotes:t,openSnackbar:a}),a("Synced marked quotes with server!",4e3));n(Date.now())}}},4652:(e,t,a)=>{"use strict";a.d(t,{M_:()=>r,yf:()=>n,z9:()=>i});var s=a(4994),o=a(295);const n=async e=>{let{userName:t,markedQuotes:a,openSnackbar:n,setSyncDate:r}=e;await(0,o.YM)((async()=>await fetch(s.P.MARKED_QUOTES.BACKUP,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,markedQuotes:a,dateSynced:Date.now()})})))},r=async e=>{var t;let{userName:a,markedQuotes:n,openSnackbar:r,setMarkedQuotes:i}=e,c=await(0,o.YM)((async()=>await fetch(s.P.MARKED_QUOTES.RESTORE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:a})})));if(c=await c.json(),null!==(t=c)&&void 0!==t&&t.ok)try{var l,d,u;const e=null===(l=c)||void 0===l||null===(d=l.results)||void 0===d||null===(u=d[0])||void 0===u?void 0:u.markedQuotes,t=Object.values(e).flat().length;var p,m,h;if(e&&t>0)return{markedQuotesFromServer:e,dateFromServer:null===(p=c)||void 0===p||null===(m=p.results)||void 0===m||null===(h=m[0])||void 0===h?void 0:h.dateSynced}}catch(y){r(JSON.stringify(y))}else r(JSON.stringify(c.error))},i=async e=>{var t;let{apiCallType:a,userName:n,password:r,setIsLoggedIn:i,openSnackbar:c,setIsFetching:l}=e;const d=n.charAt(0).toUpperCase()+n.slice(1);let u;l(!0),u="login"===a?await(0,o.YM)((async()=>await fetch(s.P.USER.LOGIN,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:n,password:r})}))):await(0,o.YM)((async()=>await fetch(s.P.USER.CREATE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:n,password:r})}))),u=await u.json(),l(!1),null!==(t=u)&&void 0!==t&&t.ok?(i(!0),c(d+" "+JSON.stringify(u.serverResponse))):c(JSON.stringify(u.error))}},2892:(e,t,a)=>{var s={"./BEAUVOIR.jpg":9073,"./BUKOWSKI.jpg":3792,"./CARL_JUNG.jpg":2063,"./FREUD.jpg":7393,"./MARK_TWAIN.jpg":5244,"./OSHO.jpg":6530,"./PETERSON.jpg":4500,"./RICKY_GERVAIS.png":8101,"./ROUSSEAU.jpg":6961};function o(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}o.keys=function(){return Object.keys(s)},o.resolve=n,e.exports=o,o.id=2892},9073:(e,t,a)=>{"use strict";e.exports=a.p+"static/media/BEAUVOIR.a37acf7026379a5c745f.jpg"},3792:(e,t,a)=>{"use strict";e.exports=a.p+"static/media/BUKOWSKI.3ed907dda532b04aa57a.jpg"},2063:(e,t,a)=>{"use strict";e.exports=a.p+"static/media/CARL_JUNG.12be5cab35dd5548822a.jpg"},7393:(e,t,a)=>{"use strict";e.exports=a.p+"static/media/FREUD.fa5e080abec887337460.jpg"},5244:(e,t,a)=>{"use strict";e.exports=a.p+"static/media/MARK_TWAIN.d04dc676af5be490f48a.jpg"},6530:(e,t,a)=>{"use strict";e.exports=a.p+"static/media/OSHO.45432ce7c4c8818ad65c.jpg"},4500:(e,t,a)=>{"use strict";e.exports=a.p+"static/media/PETERSON.f3968a4c45466650e225.jpg"},8101:(e,t,a)=>{"use strict";e.exports=a.p+"static/media/RICKY_GERVAIS.975580860d1cf99727fc.png"},6961:(e,t,a)=>{"use strict";e.exports=a.p+"static/media/ROUSSEAU.bd65f104307ba9482677.jpg"}}]);
//# sourceMappingURL=551.86de9f1d.chunk.js.map