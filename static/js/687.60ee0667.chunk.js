"use strict";(self.webpackChunkquotes=self.webpackChunkquotes||[]).push([[687],{5938:function(e,t,n){n.d(t,{dA:function(){return u},lf:function(){return s},vH:function(){return i},SD:function(){return _},a2:function(){return c},WB:function(){return l}});var r=n(2982),o=n(4994),a=n(295),u=function(e,t,n){var u=t.options,i=t.setOptions;return new Promise((function(t,_){var c=e.toLowerCase();(0,a.YM)((function(){return fetch(o.P.STATIC_DATA.STATIC_QUOTES+c+".json")})).then((function(e){return e.json()})).then((function(o){null===n||void 0===n||n.map((function(e){return e(o)})),function(e,t,n){var o=t.options,a=t.setOptions,u=JSON.parse(JSON.stringify(o));if("all"===e.trim().toLowerCase()){var i,_=s(e,o);i=void 0===u[_].quotes?[]:u[_].quotes,u[_].quotes=[].concat((0,r.Z)(i),(0,r.Z)(n))}else u[s(e,o)].quotes=n;a(u)}(e,{options:u,setOptions:i},o),t()})).catch((function(e){return _(e)}))}))},s=function(e,t){return t.findIndex((function(t){return t.value===e}))},i=function(e){var t=e.philosopher;return e.options.filter((function(e){return e.value===t}))[0]},_=function(e){var t,n=e.philosopher;return null===(t=e.options.filter((function(e){return e.value===n}))[0])||void 0===t?void 0:t.quotes},c=function(e,t){return t[s(e,t)].fullName},l=function(e,t){return!!t[s(e,t)]}},3456:function(e,t,n){n.d(t,{o8:function(){return r},Z:function(){return o},k$:function(){return a}});var r=function(e){return"undefined"===typeof e},o=function(e){return 0===Object.values(e).length&&e.constructor===Object};function a(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},413:function(e,t,n){n.d(t,{H:function(){return a}});var r=n(2982);n(2791);function o(e,t){var n=localStorage.getItem(e),r=JSON.parse(n);return void 0===r||"undefined"===r||"null"===r||null===r?t:r}var a=function(e){var t=e.index,n=e.currentPhilosopher,a=(e.markedMode,e.markedQuotes),u=void 0===a?{}:a,s=e.setMarkedQuotes,i=e.currentData,_=e.setCurrentData,c=JSON.parse(JSON.stringify(u)),l=[],f="".concat(n,"-MARKED_AS_READ");l=o(f,[]),u&&void 0!==u[n]&&(l=[].concat((0,r.Z)(l),(0,r.Z)(u[n]))),l=(0,r.Z)(new Set(l)),t&&l.push(t),c[n]=l,s(c);var d=i.filter((function(e,t){var n=e.id;return-1===l.indexOf(n)}));_(JSON.parse(JSON.stringify(d)))}},9031:function(e,t,n){var r;n.d(t,{K:function(){return r}}),window.Worker?r=new Worker(new URL(n.p+n.u(345),n.b)):alert("Your browser doesn't support web workers.")},2687:function(e,t,n){n.d(t,{D:function(){return v},H:function(){return h}});var r=n(5861),o=n(2982),a=n(4687),u=n.n(a),s=n(4994),i=n(5938),_=n(295),c=function(e){e=new Date(e);var t=(new Date).getTime()-e.getTime();return Math.floor(t/864e5)>=1},l=n(1930),f=n(2439),d=n(9234),p=function(e){var t=e.newOptions,n=e.oldOptions,r=(e.oldOriginalOptions,e.setOptions),a=e.setOriginalOptions,u=e.sorting,s=[].concat((0,o.Z)(f.R),(0,o.Z)(t)),_=function(e,t){var n=JSON.parse(JSON.stringify(t));return n.forEach((function(t,r){var o=(0,i.lf)(t.value,e);-1!==o&&(n[r].quotes=e[o].quotes)})),n}(n,(0,o.Z)(s));u===l.y?_=(0,d.xh)(s,_):u===l.P&&(_=(0,d.CQ)(_)),r((0,o.Z)(_)),a(s)},m=n(2922);function h(e){var t=e.philosopher,n=(e.listRef,e.setIsFetching),r=e.setStart,a=e.setEnd,u=e.setSearchText,s=e.setCurrentPhilosopher,_=e.currentData,c=e.setCurrentData,l=e.options,f=e.setOptions,d=e.markedMode,p=e.markedQuotes,h=e.setMarkedQuotes,v=(e.scrollPosition,e.setRowsRendered,e.recentPhilosophers),k=e.setRecentPhilosophers;function O(){v&&k((0,o.Z)(new Set([t].concat((0,o.Z)(v.slice(0,4)))))),s(t),(0,m.gt)({philosopher:t,currentData:_,setCurrentData:c,options:l},{markedMode:d,markedQuotes:p,setMarkedQuotes:h}),n(!1)}r(1),a(""),u(""),n(!0),(0,i.SD)({philosopher:t,options:l})?O():(0,i.dA)(t,{options:l,setOptions:f},[]).then(O)}var v=function(){var e=(0,r.Z)(u().mark((function e(t){var n,r,o,a,i,l,f,d,m,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.options,r=t.setOptions,o=t.isLoggedIn,a=t.setSyncDate,t.isFetchingOptions,i=t.setIsFetchingOptions,l=t.originalOptions,f=t.setOriginalOptions,d=t.sorting,m=t.syncDate,!c(m)&&1!==n.length){e.next=12;break}return!0!==o&&(null===a||void 0===a||a(Date.now())),null===i||void 0===i||i(!0),e.next=6,(0,_.YM)((function(){return fetch(s.P.STATIC_DATA.STATIC_ASSET_GRAPH)}));case 6:return h=e.sent,e.next=9,h.json();case 9:h=e.sent,p({newOptions:h,oldOptions:n,oldOriginalOptions:l,setOptions:r,setOriginalOptions:f,sorting:d}),null===i||void 0===i||i(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1930:function(e,t,n){n.d(t,{y:function(){return r},P:function(){return o}});var r="latest",o="alphabetical"},9234:function(e,t,n){n.d(t,{IE:function(){return _},xh:function(){return c},CQ:function(){return l},qZ:function(){return f},lq:function(){return d}});var r=n(5861),o=n(2982),a=n(4687),u=n.n(a),s=n(5938),i=n(4652),_=function(e){var t=document.getElementsByTagName("html")[0];t.className="",e?t.classList.add("darkTheme"):t.classList.add("lightTheme")},c=function(e,t){return e.map((function(e){return(0,s.vH)({philosopher:e.value,options:t})})).reverse()},l=function(e){return(0,o.Z)(e).sort((function(e,t){return e.fullName.localeCompare(t.fullName)}))};function f(e){var t=new Date,n=new Date(e);return t.setHours(0,0,0,0),{currentClientDate:t=t.getTime(),lastSyncClientDate:n=n.setHours(0,0,0,0)}}function d(e,t,n,r,o,a,u){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(u().mark((function e(t,n,r,o,a,s,_){var c,l,f,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.M_)({userName:t,markedQuotes:n,openSnackbar:r,setMarkedQuotes:o});case 2:if(c=e.sent,l=c.markedQuotesFromServer,f=c.dateFromServer,a(Date.now()),!l){e.next=19;break}if(!((d=Object.values(l).flat().length)>s)){e.next=13;break}o(l),r("Auto-Sync : Restored all marked quotes!",4e3),e.next=19;break;case 13:if(!(s>d)){e.next=19;break}if((f=new Date(f)).setHours(0,0,0,0),!(_>f)){e.next=19;break}return e.next=19,(0,i.yf)({userName:t,markedQuotes:n,openSnackbar:r});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},4652:function(e,t,n){n.d(t,{yf:function(){return i},M_:function(){return _},z9:function(){return c}});var r=n(5861),o=n(4687),a=n.n(o),u=n(4994),s=n(295),i=function(){var e=(0,r.Z)(a().mark((function e(t){var n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userName,o=t.markedQuotes,t.openSnackbar,t.setSyncDate,e.next=3,(0,s.YM)((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u.P.MARKED_QUOTES.BACKUP,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:n,markedQuotes:o,dateSynced:Date.now()})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,r.Z)(a().mark((function e(t){var n,o,i,_,c,l,f,d,p,m,h,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.userName,t.markedQuotes,i=t.openSnackbar,t.setMarkedQuotes,e.next=3,(0,s.YM)((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u.P.MARKED_QUOTES.RESTORE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:o})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 3:return _=e.sent,e.next=6,_.json();case 6:if(_=e.sent,null===(n=_)||void 0===n||!n.ok){e.next=20;break}if(e.prev=8,d=null===(c=_)||void 0===c||null===(l=c.results)||void 0===l||null===(f=l[0])||void 0===f?void 0:f.markedQuotes,p=Object.values(d).flat().length,!(d&&p>0)){e.next=13;break}return e.abrupt("return",{markedQuotesFromServer:d,dateFromServer:null===(m=_)||void 0===m||null===(h=m.results)||void 0===h||null===(v=h[0])||void 0===v?void 0:v.dateSynced});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),i(JSON.stringify(e.t0));case 18:e.next=21;break;case 20:i(JSON.stringify(_.error));case 21:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)(a().mark((function e(t){var n,o,i,_,c,l,f,d,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.apiCallType,i=t.userName,_=t.password,c=t.setIsLoggedIn,l=t.openSnackbar,f=t.setIsFetching,d=i.charAt(0).toUpperCase()+i.slice(1),f(!0),"login"!==o){e.next=9;break}return e.next=6,(0,s.YM)((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u.P.USER.LOGIN,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:i,password:_})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 6:p=e.sent,e.next=12;break;case 9:return e.next=11,(0,s.YM)((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u.P.USER.CREATE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:i,password:_})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 11:p=e.sent;case 12:return e.next=14,p.json();case 14:p=e.sent,f(!1),null!==(n=p)&&void 0!==n&&n.ok?(c(!0),l(d+" "+JSON.stringify(p.serverResponse))):l(JSON.stringify(p.error));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},2922:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{gt:function(){return changeQuotesData},PZ:function(){return getPhilosopherFullName},AD:function(){return getPhilosopherFullName_i10n},$X:function(){return searchByWordLength}});var _data_data_com_termux_files_home_quotes_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5861),_data_data_com_termux_files_home_quotes_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4687),_data_data_com_termux_files_home_quotes_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_data_data_com_termux_files_home_quotes_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__),_common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3456),_common_utils_staticDataUtils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(413),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9031),changeQuotesData=function(e,t){var n=e.currentPhilosopher,r=e.currentData,o=e.setCurrentData,a=(e.options,t.markedMode),u=void 0===a?null:a,s=t.markedQuotes,i=t.setMarkedQuotes;r&&o(r),void 0!==u&&u&&(0,_common_utils_staticDataUtils__WEBPACK_IMPORTED_MODULE_1__.H)({currentPhilosopher:n,markedMode:u,markedQuotes:s,setMarkedQuotes:i,currentData:r,setCurrentData:o})},getPhilosopherFullName=function(e){var t=e.currentPhilosopher,n=e.options.filter((function(e){var n=e.value;return t===n}));if(!(0,_common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__.Z)(n))return n&&n[0].fullName},getPhilosopherFullName_i10n=function(e){var t=e.currentPhilosopher,n=e.options.filter((function(e){var n=e.value;return t===n}));if(!(0,_common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__.Z)(n))return n&&n[0].fullNameInOtherLanguages},searchByWordLength=function(){var _ref9=(0,_data_data_com_termux_files_home_quotes_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_data_data_com_termux_files_home_quotes_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee(start,end,quotes,_ref7,_ref8){var markedMode,markedQuotes,setMarkedQuotes,setCurrentData,currentPhilosopher;return _data_data_com_termux_files_home_quotes_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return markedMode=_ref7.markedMode,markedQuotes=_ref7.markedQuotes,setMarkedQuotes=_ref7.setMarkedQuotes,setCurrentData=_ref8.setCurrentData,currentPhilosopher=_ref8.currentPhilosopher,_context.abrupt("return",new Promise((function(resolve){void 0!==quotes&&("string"===typeof start&&""===start.trim()&&(start=0),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_2__.K.postMessage({quotes:quotes,end:end,start:start,filterName:"wordCountFilter"}),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_2__.K.onmessage=function(event){var newData=JSON.parse(eval("(".concat(JSON.stringify(event.data),")")));changeQuotesData({currentData:newData,setCurrentData:setCurrentData,currentPhilosopher:currentPhilosopher},{markedMode:markedMode,markedQuotes:markedQuotes,setMarkedQuotes:setMarkedQuotes}),resolve()})})));case 3:case"end":return _context.stop()}}),_callee)})));return function(e,t,n,r,o){return _ref9.apply(this,arguments)}}();function getWordCount(e){return e.split(" ").filter((function(e){return""!==e})).length}}}]);
//# sourceMappingURL=687.60ee0667.chunk.js.map