"use strict";(self.webpackChunkquotes=self.webpackChunkquotes||[]).push([[793],{3456:function(e,r,t){t.d(r,{Z:function(){return o},k$:function(){return s},o8:function(){return n}});var n=function(e){return"undefined"===typeof e},o=function(e){return 0===Object.values(e).length&&e.constructor===Object};function s(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},413:function(e,r,t){t.d(r,{H:function(){return s}});var n=t(3433);t(2791);function o(e,r){var t=localStorage.getItem(e),n=JSON.parse(t);return void 0===n||"undefined"===n||"null"===n||null===n?r:n}var s=function(e){var r=e.index,t=e.currentPhilosopher,s=(e.markedMode,e.markedQuotes),a=void 0===s?{}:s,u=e.setMarkedQuotes,i=e.currentData,_=e.setCurrentData,c=JSON.parse(JSON.stringify(a)),l=[],p="".concat(t,"-MARKED_AS_READ");l=o(p,[]),a&&void 0!==a[t]&&(l=[].concat((0,n.Z)(l),(0,n.Z)(a[t]))),l=(0,n.Z)(new Set(l)),r&&l.push(r),c[t]=l,u(c);var f=i.filter((function(e,r){var t=e.id;return-1===l.indexOf(t)}));_(JSON.parse(JSON.stringify(f)))}},1278:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Bj:function(){return scrollToQuoteId},nI:function(){return isDesktop},rY:function(){return scrollToMemorizedRow},tq:function(){return isMobile},yC:function(){return search}});var _web_workers_worker__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9031),scrollToFirstRow=function(e){e.current&&e.current.scrollToRow(0)},scrollToMemorizedRow=function(e,r,t){t.length>0&&e.current&&(void 0!==r&&"undefined"!==r&&r&&r>0?e.current.scrollToRow(r):scrollToFirstRow(e))},scrollToQuoteId=function(e,r,t,n){var o=r[n];if((null===t||void 0===t?void 0:t.length)>0&&e.current)if(void 0!==o&&"undefined"!==o&&o&&o>0){var s=t.findIndex((function(e){return e.id===o}));s>-1&&e.current.scrollToRow(s)}else scrollToFirstRow(e)},search=function search(_ref2){var searchText=_ref2.searchText,currentData=_ref2.currentData,setCurrentData=_ref2.setCurrentData;return new Promise((function(resolve){void 0!==currentData&&(_web_workers_worker__WEBPACK_IMPORTED_MODULE_0__.K.postMessage({currentData:currentData,searchText:searchText,filterName:"searchTermFilter"}),_web_workers_worker__WEBPACK_IMPORTED_MODULE_0__.K.onmessage=function(event){var filteredQuotesFromWorker=JSON.parse(eval("(".concat(JSON.stringify(event.data),")")));resolve(filteredQuotesFromWorker)})}))},isMobile=function(){return window.innerWidth<=600},isDesktop=function(){return window.innerWidth>=600}},9031:function(e,r,t){var n;t.d(r,{K:function(){return n}}),window.Worker?n=new Worker(new URL(t.p+t.u(345),t.b)):alert("Your browser doesn't support web workers.")},3793:function(e,r,t){t.d(r,{D:function(){return h},H:function(){return m}});var n=t(4165),o=t(5861),s=t(4994),a=t(5938),u=t(295),i=t(3433),_=t(1930),c=t(2439),l=t(9234),p=function(e){var r=e.newOptions,t=e.oldOptions,n=(e.oldOriginalOptions,e.setOptions),o=e.setOriginalOptions,s=e.sorting,u=[].concat((0,i.Z)(c.R),(0,i.Z)(r)),p=function(e,r){var t=JSON.parse(JSON.stringify(r));return t.forEach((function(r,n){var o=(0,a.lf)(r.value,e);-1!==o&&(t[n].quotes=e[o].quotes)})),t}(t,(0,i.Z)(u));s===_.y?p=(0,l.xh)(u,p):s===_.P&&(p=(0,l.CQ)(p)),n((0,i.Z)(p)),o(u)},f=t(1278),d=t(2922);function m(e){var r=e.philosopher,t=e.listRef,n=e.setIsFetching,o=e.setStart,s=e.setEnd,u=e.setSearchText,i=e.setCurrentPhilosopher,_=e.currentData,c=e.setCurrentData,l=e.options,p=e.setOptions,m=e.setQuotesLoaded,h=e.markedMode,k=e.markedQuotes,v=e.setMarkedQuotes,w=e.scrollPosition;function D(){i(r),(0,d.gt)({philosopher:r,currentData:_,setCurrentData:c,options:l},{markedMode:h,markedQuotes:k,setMarkedQuotes:v}),(0,f.Bj)(t,w,_,r),n(!1)}o(1),s(""),u(""),n(!0),(0,a.SD)({philosopher:r,options:l})?D():(0,a.dA)(r,{options:l,setOptions:p},m,[]).then(D)}var h=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r){var t,o,a,i,_,c,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.options,o=r.setOptions,r.isFetchingOptions,a=r.setIsFetchingOptions,i=r.originalOptions,_=r.setOriginalOptions,c=r.sorting,a&&a(!0),e.next=4,(0,u.YM)((function(){return fetch(s.P.STATIC_DATA.STATIC_ASSET_GRAPH)}));case 4:return l=e.sent,e.next=7,l.json();case 7:l=e.sent,p({newOptions:l,oldOptions:t,oldOriginalOptions:i,setOptions:o,setOriginalOptions:_,sorting:c}),a&&a(!1);case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},1930:function(e,r,t){t.d(r,{P:function(){return o},y:function(){return n}});var n="latest",o="alphabetical"},9234:function(e,r,t){t.d(r,{CQ:function(){return c},IE:function(){return i},lq:function(){return p},qZ:function(){return l},xh:function(){return _}});var n=t(4165),o=t(5861),s=t(3433),a=t(5938),u=t(4652),i=function(e){var r=document.getElementsByTagName("html")[0];r.className="",e?r.classList.add("darkTheme"):r.classList.add("lightTheme")},_=function(e,r){return e.map((function(e){return(0,a.vH)({philosopher:e.value,options:r})})).reverse()},c=function(e){return(0,s.Z)(e).sort((function(e,r){return e.fullName.localeCompare(r.fullName)}))};function l(e){var r=new Date,t=new Date(e);return r.setHours(0,0,0,0),{currentClientDate:r=r.getTime(),lastSyncClientDate:t=t.setHours(0,0,0,0)}}function p(e,r,t,n,o,s,a){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)((0,n.Z)().mark((function e(r,t,o,s,a,i,_){var c,l,p,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.M_)({userName:r,markedQuotes:t,openSnackbar:o,setMarkedQuotes:s});case 2:if(c=e.sent,l=c.markedQuotesFromServer,p=c.dateFromServer,a(Date.now()),!l){e.next=19;break}if(!((f=Object.values(l).flat().length)>i)){e.next=13;break}s(l),o("Auto-Sync : Restored all marked quotes!",4e3),e.next=19;break;case 13:if(!(i>f)){e.next=19;break}if((p=new Date(p)).setHours(0,0,0,0),!(_>p)){e.next=19;break}return e.next=19,(0,u.yf)({userName:r,markedQuotes:t,openSnackbar:o});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},4652:function(e,r,t){t.d(r,{M_:function(){return i},yf:function(){return u},z9:function(){return _}});var n=t(4165),o=t(5861),s=t(4994),a=t(295),u=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r){var t,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.userName,u=r.markedQuotes,r.openSnackbar,r.setSyncDate,e.next=3,(0,a.YM)((0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(s.P.MARKED_QUOTES.BACKUP,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,markedQuotes:u,dateSynced:Date.now()})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),i=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r){var t,u,i,_,c,l,p,f,d,m,h,k;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=r.userName,r.markedQuotes,i=r.openSnackbar,r.setMarkedQuotes,e.next=3,(0,a.YM)((0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(s.P.MARKED_QUOTES.RESTORE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:u})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 3:return _=e.sent,e.next=6,_.json();case 6:if(_=e.sent,null===(t=_)||void 0===t||!t.ok){e.next=20;break}if(e.prev=8,f=null===(c=_)||void 0===c||null===(l=c.results)||void 0===l||null===(p=l[0])||void 0===p?void 0:p.markedQuotes,d=Object.values(f).flat().length,!(f&&d>0)){e.next=13;break}return e.abrupt("return",{markedQuotesFromServer:f,dateFromServer:null===(m=_)||void 0===m||null===(h=m.results)||void 0===h||null===(k=h[0])||void 0===k?void 0:k.dateSynced});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),i(JSON.stringify(e.t0));case 18:e.next=21;break;case 20:i(JSON.stringify(_.error));case 21:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(r){return e.apply(this,arguments)}}(),_=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r){var t,u,i,_,c,l,p,f,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.apiCallType,i=r.userName,_=r.password,c=r.setIsLoggedIn,l=r.openSnackbar,p=r.setIsFetching,f=i.charAt(0).toUpperCase()+i.slice(1),p(!0),"login"!==u){e.next=9;break}return e.next=6,(0,a.YM)((0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(s.P.USER.LOGIN,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:i,password:_})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 6:d=e.sent,e.next=12;break;case 9:return e.next=11,(0,a.YM)((0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(s.P.USER.CREATE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:i,password:_})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 11:d=e.sent;case 12:return e.next=14,d.json();case 14:d=e.sent,p(!1),null!==(t=d)&&void 0!==t&&t.ok?(c(!0),l(f+" "+JSON.stringify(d.serverResponse))):l(JSON.stringify(d.error));case 17:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},2922:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$X:function(){return searchByWordLength},AD:function(){return getPhilosopherFullName_i10n},PZ:function(){return getPhilosopherFullName},gt:function(){return changeQuotesData}});var C_Users_paras_Desktop_quotes_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4165),C_Users_paras_Desktop_quotes_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5861),_common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3456),_common_utils_staticDataUtils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(413),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9031),changeQuotesData=function(e,r){var t=e.currentPhilosopher,n=e.currentData,o=e.setCurrentData,s=(e.options,r.markedMode),a=void 0===s?null:s,u=r.markedQuotes,i=r.setMarkedQuotes;n&&o(n),void 0!==a&&a&&(0,_common_utils_staticDataUtils__WEBPACK_IMPORTED_MODULE_0__.H)({currentPhilosopher:t,markedMode:a,markedQuotes:u,setMarkedQuotes:i,currentData:n,setCurrentData:o})},getPhilosopherFullName=function(e){var r=e.currentPhilosopher,t=e.options.filter((function(e){var t=e.value;return r===t}));if(!(0,_common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__.Z)(t))return t&&t[0].fullName},getPhilosopherFullName_i10n=function(e){var r=e.currentPhilosopher,t=e.options.filter((function(e){var t=e.value;return r===t}));if(!(0,_common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__.Z)(t))return t&&t[0].fullNameInOtherLanguages},searchByWordLength=function(){var _ref9=(0,C_Users_paras_Desktop_quotes_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,C_Users_paras_Desktop_quotes_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4__.Z)().mark((function _callee(start,end,quotes,_ref7,_ref8){var markedMode,markedQuotes,setMarkedQuotes,setCurrentData,currentPhilosopher;return(0,C_Users_paras_Desktop_quotes_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_4__.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return markedMode=_ref7.markedMode,markedQuotes=_ref7.markedQuotes,setMarkedQuotes=_ref7.setMarkedQuotes,setCurrentData=_ref8.setCurrentData,currentPhilosopher=_ref8.currentPhilosopher,_context.abrupt("return",new Promise((function(resolve){void 0!==quotes&&("string"===typeof start&&""===start.trim()&&(start=0),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_1__.K.postMessage({quotes:quotes,end:end,start:start,filterName:"wordCountFilter"}),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_1__.K.onmessage=function(event){var newData=JSON.parse(eval("(".concat(JSON.stringify(event.data),")")));changeQuotesData({currentData:newData,setCurrentData:setCurrentData,currentPhilosopher:currentPhilosopher},{markedMode:markedMode,markedQuotes:markedQuotes,setMarkedQuotes:setMarkedQuotes}),resolve()})})));case 3:case"end":return _context.stop()}}),_callee)})));return function(e,r,t,n,o){return _ref9.apply(this,arguments)}}();function getWordCount(e){return e.split(" ").filter((function(e){return""!==e})).length}}}]);
//# sourceMappingURL=793.a24d54a2.chunk.js.map