{"version":3,"file":"static/js/388.e3bf8580.chunk.js","mappings":"4LAEO,SAAeA,EAAIC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,OAAAC,EAAAC,MAAC,KAADC,UAAA,CAczB,SAAAF,IAAA,OAAAA,GAAAG,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAdM,SAAAC,EAAoBC,EAAOC,EAAaC,EAAYC,EAASC,EAAgBC,GAAiB,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAZ,EAAAA,EAAAA,KAAAa,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAM7C,GAL9CP,EAAQQ,OAAOC,gBACjBR,EAAaD,EAAMU,SACV,WAAO,CACpBC,GAEIT,EAAI,IAAIU,SAAQ,SAACC,GAAO,OAAeA,CAAO,IAE7CZ,EAAW,CAADI,EAAAE,KAAA,SACFJ,EAAIT,EAAM,KAAD,OAAES,EAAIR,EAAYmB,QAAM,CAAAT,EAAAE,KAAA,SAEO,OAD7CR,EAAkBI,IAClBY,EAAAA,EAAAA,IAAqBlB,EAASM,EAAGR,GAAYU,EAAAE,KAAA,GACvCK,QAAQI,KAAK,CAACd,EAAGe,EAAatB,EAAYQ,GAAU,MAAGP,KAAa,QAHlCO,IAAGE,EAAAE,KAAA,iCAAAF,EAAAa,OAAA,GAAAzB,EAAA,MAKtDL,MAAA,KAAAC,UAAA,CAED,SAAS4B,EAAaE,EAASvB,GAC3B,IAAIwB,EAAQ,IAAIC,yBAAyBF,GAKzC,OAJAC,EAAME,KAAO1B,EACbY,OAAOC,gBAAgBc,MAAMH,GAC7BI,QAAQC,IAAIhB,gBAAgBC,SAAW,IAEhC,IAAIE,SAAQ,SAACC,EAASa,GAAM,OAAMN,EAAMO,MAAQd,CAAO,GAClE,C,aCpBA,EAFc,SAAHe,GAAA,IAAMlC,EAAKkC,EAALlC,MAAOC,EAAWiC,EAAXjC,YAAaG,EAAc8B,EAAd9B,eAAgBC,EAAiB6B,EAAjB7B,kBAAmBF,EAAO+B,EAAP/B,QAASD,EAAUgC,EAAVhC,WAAU,OAAOiC,EAAAA,EAAAA,MAAA,UAAQC,QAASrB,gBAAgBC,SAAW,kBAAMD,gBAAgBE,QAAQ,EAAG/B,EAAKmD,K,UAAWrC,EAAOC,EAAaC,EAAYC,EAASC,EAAgBC,GAAmBiC,SAAA,CAAEvB,gBAAgBC,SAAW,OAAS,OAAO,WAAe,C","sources":["components/organisms/tools/audio/utils/speechUtils.js","components/organisms/tools/audio/audio.jsx"],"sourcesContent":["import { scrollToMemorizedRow } from '../../../../../common/utils/utils'\r\n\r\nexport async function play(index, currentData, voiceSpeed, listRef, scrollPosition, setScrollPosition) {\r\n    const synth = window.speechSynthesis,\r\n        isSpeaking = synth.speaking\r\n    let cancel = () => {}\r\n    cancel()\r\n\r\n    let p = new Promise((resolve) => (cancel = resolve))\r\n\r\n    if (!isSpeaking)\r\n        for (let i = index; i < currentData.length; i++) {\r\n            setScrollPosition(i)\r\n            scrollToMemorizedRow(listRef, i, currentData)\r\n            await Promise.race([p, getNextAudio(currentData[i]['quote'], voiceSpeed)])\r\n        }\r\n}\r\n\r\nfunction getNextAudio(message, voiceSpeed) {\r\n    let audio = new SpeechSynthesisUtterance(message)\r\n    audio.rate = voiceSpeed\r\n    window.speechSynthesis.speak(audio)\r\n    console.log(speechSynthesis.speaking + '')\r\n\r\n    return new Promise((resolve, reject) => (audio.onend = resolve))\r\n}\r\n","import React from 'react'\r\nimport { play } from './utils/speechUtils'\r\n\r\nconst Audio = ({ index, currentData, scrollPosition, setScrollPosition, listRef, voiceSpeed }) => <button onClick={speechSynthesis.speaking ? () => speechSynthesis.cancel() : play.bind(this, index, currentData, voiceSpeed, listRef, scrollPosition, setScrollPosition)}>{speechSynthesis.speaking ? 'Stop' : 'Play'} Audio</button>\r\n\r\nexport default Audio\r\n"],"names":["play","_x","_x2","_x3","_x4","_x5","_x6","_play","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","index","currentData","voiceSpeed","listRef","scrollPosition","setScrollPosition","synth","isSpeaking","p","i","wrap","_context","prev","next","window","speechSynthesis","speaking","cancel","Promise","resolve","length","scrollToMemorizedRow","race","getNextAudio","stop","message","audio","SpeechSynthesisUtterance","rate","speak","console","log","reject","onend","_ref","_jsxs","onClick","bind","children"],"sourceRoot":""}