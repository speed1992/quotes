(self.webpackChunkquotes=self.webpackChunkquotes||[]).push([[345],{4545:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(3003),o=r(3110);const a=()=>{const e=(0,s.wA)();return[function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1400;e((0,o.tY)(t)),setTimeout((()=>e((0,o.tY)(""))),r)}]}},6228:(e,t,r)=>{"use strict";r.d(t,{XY:()=>o,b0:()=>s,gZ:()=>a});const s=e=>"undefined"===typeof e,o=e=>0===Object.values(e).length&&e.constructor===Object;function a(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}},7442:(e,t,r)=>{"use strict";r.d(t,{v:()=>o});r(5043);function s(e,t){const r=localStorage.getItem(e),s=JSON.parse(r);return void 0===s||"undefined"===s||"null"===s||null===s?t:s}const o=e=>{let{index:t,currentPhilosopher:r,markedMode:o,markedQuotes:a={},setMarkedQuotes:n,currentData:i,setCurrentData:l}=e,c=JSON.parse(JSON.stringify(a)),u=[];const d="".concat(r,"-MARKED_AS_READ");u=s(d,[]),a&&void 0!==a[r]&&(u=[...u,...a[r]]),u=[...new Set(u)],t&&u.push(t),c[r]=u,n(c);const p=i.filter(((e,t)=>{let{id:r}=e;return-1===u.indexOf(r)}));l(JSON.parse(JSON.stringify(p)))}},3653:(e,t,r)=>{"use strict";let s;r.d(t,{D:()=>s}),window.Worker?s=new Worker(new URL(r.p+r.u(480),r.b)):alert("Your browser doesn't support web workers.")},270:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(5043),o=r(3003),a=r(1589),n=r(8418),i=r(6228),l=r(1866),c=r(5239),u=r.n(c);const d=async(e,t)=>{const r=document.getElementsByTagName("html")[0],s=document.getElementsByTagName("body")[0];let o=r.clientWidth,a=s.clientWidth;const n=e.scrollWidth-e.clientWidth;n>e.clientWidth&&(o+=n,a+=n),r.style.width=o+"px",s.style.width=a+"px";((e,t)=>{const r=window.document.createElement("a");r.style="display:none;",r.download=t,r.href=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),r.remove()})((await u()(e,{scale:3})).toDataURL("image/png",1),t),r.style.width=null,s.style.width=null};function p(e,t,r,a){const c=(0,o.wA)();(0,s.useEffect)((()=>{(0,l.lQ)(!0)}),[]),(0,s.useEffect)((()=>{!async function(){const s="".concat(e,"-quote-").concat((0,i.gZ)(),".png");void 0!==t&&!0===t?await(async(e,t)=>{(async()=>{"share"in navigator&&(await u()(e,{scale:3})).toBlob((async e=>{const r={files:[new File([e],t,{type:e.type})]};if(navigator.canShare(r))try{await navigator.share(r)}catch(s){"AbortError"!==s.name&&console.error(s.name,s.message)}else console.warn("Sharing not supported",r)}))})()})(r.current,s):await d(r.current,s),a||(0,l.lQ)(!1),c((0,n.GV)(""))}()}),[r,e,t])}var _=r(579);const m=s.lazy((()=>(0,a.Uw)((()=>r.e(876).then(r.bind(r,575)))))),h=s.lazy((()=>(0,a.Uw)((()=>r.e(962).then(r.bind(r,4383)))))),v=()=>{let{quotationText:e,philosopherFullName:t,signature:a,share:n=!1}=(0,o.d4)((e=>e.quoteImage));const i=(0,s.useRef)(),l=(0,o.d4)((e=>e.philosophersData.currentPhilosopher)),c={exportRef:i,quotationText:e,philosopherFullName:t,signature:a};p(t,n,i,(0,o.d4)((e=>e.philosophersData.darkMode)));try{const e="".concat(l,".jpg");return r(7853)("./"+e),(0,_.jsx)(m,{...c,imageName:e})}catch(u){return(0,_.jsx)(h,{...c})}}},1866:(e,t,r)=>{"use strict";r.d(t,{Kf:()=>i,XB:()=>l,lQ:()=>n,xm:()=>c,z8:()=>u});var s=r(7308),o=r(7052),a=r(5499);const n=e=>{let t=document.getElementsByTagName("html")[0];t.className="",e?t.classList.add("darkTheme"):t.classList.add("lightTheme")},i=(e,t)=>e.map((e=>(0,s.iL)({philosopher:e.value,options:t}))).reverse(),l=e=>[...e].sort(((e,t)=>e.fullName.localeCompare(t.fullName)));async function c(e,t,r,s,a,n){const i=await(0,o.kr)({userName:e});if(i){if(i>n){let{markedQuotesFromServer:t}=await(0,o.sE)({userName:e,openSnackbar:r});s(t),r("Auto-Sync : Restored all marked quotes!",4e3)}else n>i&&await(0,o.G9)({userName:e,markedQuotes:t,openSnackbar:r});a(Date.now())}}const u=e=>{let{currentPhilosopher:t,options:r,markedQuotes:o,setStart:n,setEnd:i}=e;const l=(0,s.$)({philosopher:t,options:r}),c=(null===o||void 0===o?void 0:o[t])||[],u=l.filter((e=>!c.includes(e.id))).reduce(((e,t)=>{let{quote:r}=t;return""!==r?Math.min((0,a.sQ)(r),e):e}),1/0);u!==1/0&&(n(1),i(u))}},7052:(e,t,r)=>{"use strict";r.d(t,{G9:()=>a,fk:()=>l,kr:()=>i,sE:()=>n});var s=r(8380),o=r(1589);const a=async e=>{let{userName:t,markedQuotes:r,openSnackbar:a,setSyncDate:n}=e;await(0,o.Uw)((async()=>await fetch(s.S.MARKED_QUOTES.BACKUP,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,markedQuotes:r,dateSynced:Date.now()})})))},n=async e=>{var t;let{userName:r,openSnackbar:a}=e,n=await(0,o.Uw)((async()=>await fetch(s.S.MARKED_QUOTES.RESTORE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:r})})));if(n=await n.json(),null!==(t=n)&&void 0!==t&&t.ok)try{var i,l,c;const e=null===(i=n)||void 0===i||null===(l=i.results)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.markedQuotes,t=Object.values(e).flat().length;var u,d,p;if(e&&t>0)return{markedQuotesFromServer:e,dateFromServer:null===(u=n)||void 0===u||null===(d=u.results)||void 0===d||null===(p=d[0])||void 0===p?void 0:p.dateSynced}}catch(_){a(JSON.stringify(_))}else a(JSON.stringify(n.error))},i=async e=>{var t;let{userName:r}=e,a=await(0,o.Uw)((async()=>await fetch(s.S.MARKED_QUOTES.GET_COUNT,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:r})})));var n;return a=await a.json(),null!==(t=a)&&void 0!==t&&t.ok?null===(n=a)||void 0===n?void 0:n.count:null},l=async e=>{var t;let{apiCallType:r,userName:a,password:n,setIsLoggedIn:i,openSnackbar:l,setIsFetching:c}=e;const u=a.charAt(0).toUpperCase()+a.slice(1);let d;c(!0),d="login"===r?await(0,o.Uw)((async()=>await fetch(s.S.USER.LOGIN,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:a,password:n})}))):await(0,o.Uw)((async()=>await fetch(s.S.USER.CREATE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:a,password:n})}))),d=await d.json(),c(!1),null!==(t=d)&&void 0!==t&&t.ok?(i(!0),l(u+" "+JSON.stringify(d.serverResponse))):l(JSON.stringify(d.error))}},5499:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ke:()=>searchByWordLength,Yv:()=>getPhilosopherFullName,cJ:()=>changeQuotesData,sQ:()=>getWordCount,tq:()=>getPhilosopherFullName_i10n});var _common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6228),_common_utils_staticDataUtils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7442),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3653);const changeQuotesData=(e,t)=>{let{currentPhilosopher:r,currentData:s,setCurrentData:o,options:a}=e,{markedMode:n=null,markedQuotes:i,setMarkedQuotes:l}=t;s&&o(s),void 0!==n&&n&&(0,_common_utils_staticDataUtils__WEBPACK_IMPORTED_MODULE_0__.v)({currentPhilosopher:r,markedMode:n,markedQuotes:i,setMarkedQuotes:l,currentData:s,setCurrentData:o})},getPhilosopherFullName=e=>{let{currentPhilosopher:t,options:r}=e;const s=r.filter((e=>{let{value:r}=e;return t===r}));if(!(0,_common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__.XY)(s))return s&&s[0].fullName},getPhilosopherFullName_i10n=e=>{let{currentPhilosopher:t,options:r}=e;const s=r.filter((e=>{let{value:r}=e;return t===r}));if(!(0,_common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__.XY)(s))return s&&s[0].fullNameInOtherLanguages},searchByWordLength=async(start,end,quotes,_ref7,_ref8)=>{let{markedMode:markedMode,markedQuotes:markedQuotes,setMarkedQuotes:setMarkedQuotes}=_ref7,{setCurrentData:setCurrentData,currentPhilosopher:currentPhilosopher}=_ref8;return new Promise((resolve=>{void 0!==quotes&&("string"===typeof start&&""===start.trim()&&(start=0),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_1__.D.postMessage({quotes:quotes,end:end,start:start,filterName:"wordCountFilter"}),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_1__.D.onmessage=event=>{const newData=JSON.parse(eval("(".concat(JSON.stringify(event.data),")")));changeQuotesData({currentData:newData,setCurrentData:setCurrentData,currentPhilosopher:currentPhilosopher},{markedMode:markedMode,markedQuotes:markedQuotes,setMarkedQuotes:setMarkedQuotes}),resolve()})}))};function getWordCount(e){return e.split(" ").filter((function(e){return""!==e})).length}},9518:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5043),o=r(3003),a=r(4545),n=r(5630);const i={modal:"exclusions-inclusions_modal__gxaat"};var l=r(579);const c=()=>{const e=(0,o.wA)(),[t]=(0,a.A)(),r=(0,o.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.philosophersData)||void 0===t?void 0:t.searchFilters})),[c,u]=(0,s.useState)(r);return(0,l.jsxs)("div",{className:null===i||void 0===i?void 0:i.modal,children:[(0,l.jsx)("h5",{children:"Exclusions"}),(0,l.jsx)("textarea",{rows:"10",onChange:e=>{var t,r;return u({...c,exclusions:null===e||void 0===e||null===(t=e.target)||void 0===t||null===(r=t.value)||void 0===r?void 0:r.toLowerCase()})},value:null===c||void 0===c?void 0:c.exclusions}),(0,l.jsx)("h5",{children:"Inclusions"}),(0,l.jsx)("textarea",{rows:"10",onChange:e=>{var t,r;return u({...c,inclusions:null===e||void 0===e||null===(t=e.target)||void 0===t||null===(r=t.value)||void 0===r?void 0:r.toLowerCase()})},value:null===c||void 0===c?void 0:c.inclusions}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{onClick:()=>{e((0,n.cd)(c)),t("Exclusions/Inclusions Updated!",4e3)},children:"Add"})})]})}},7853:(e,t,r)=>{var s={"./BEAUVOIR.jpg":1848,"./BUKOWSKI.jpg":1322,"./CARL_JUNG.jpg":8094,"./FREUD.jpg":139,"./MARK_TWAIN.jpg":4554,"./OSHO.jpg":5984,"./PETERSON.jpg":3527,"./RICKY_GERVAIS.png":4507,"./ROUSSEAU.jpg":1502};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}o.keys=function(){return Object.keys(s)},o.resolve=a,e.exports=o,o.id=7853},1848:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/BEAUVOIR.a37acf7026379a5c745f.jpg"},1322:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/BUKOWSKI.3ed907dda532b04aa57a.jpg"},8094:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/CARL_JUNG.12be5cab35dd5548822a.jpg"},139:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/FREUD.fa5e080abec887337460.jpg"},4554:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/MARK_TWAIN.d04dc676af5be490f48a.jpg"},5984:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/OSHO.45432ce7c4c8818ad65c.jpg"},3527:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/PETERSON.f3968a4c45466650e225.jpg"},4507:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/RICKY_GERVAIS.975580860d1cf99727fc.png"},1502:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/ROUSSEAU.bd65f104307ba9482677.jpg"}}]);
//# sourceMappingURL=GenerateQuoteImage.d0b8d6bb.chunk.js.map