(self.webpackChunkquotes=self.webpackChunkquotes||[]).push([[775],{3456:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o,k$:()=>s,o8:()=>a});const a=e=>"undefined"===typeof e,o=e=>0===Object.values(e).length&&e.constructor===Object;function s(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}},413:(e,t,r)=>{"use strict";r.d(t,{H:()=>o});r(2791);function a(e,t){const r=localStorage.getItem(e),a=JSON.parse(r);return void 0===a||"undefined"===a||"null"===a||null===a?t:a}const o=e=>{let{index:t,currentPhilosopher:r,markedMode:o,markedQuotes:s={},setMarkedQuotes:n,currentData:i,setCurrentData:c}=e,u=JSON.parse(JSON.stringify(s)),l=[];const d="".concat(r,"-MARKED_AS_READ");l=a(d,[]),s&&void 0!==s[r]&&(l=[...l,...s[r]]),l=[...new Set(l)],t&&l.push(t),u[r]=l,n(u);const p=i.filter(((e,t)=>{let{id:r}=e;return-1===l.indexOf(r)}));c(JSON.parse(JSON.stringify(p)))}},9031:(e,t,r)=>{"use strict";let a;r.d(t,{K:()=>a}),window.Worker?a=new Worker(new URL(r.p+r.u(345),r.b)):alert("Your browser doesn't support web workers.")},9551:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(2791),o=r(4420),s=r(295),n=r(303),i=r(3456),c=r(9234),u=r(5498),l=r.n(u);const d=async(e,t)=>{const r=document.getElementsByTagName("html")[0],a=document.getElementsByTagName("body")[0];let o=r.clientWidth,s=a.clientWidth;const n=e.scrollWidth-e.clientWidth;n>e.clientWidth&&(o+=n,s+=n),r.style.width=o+"px",a.style.width=s+"px";((e,t)=>{const r=window.document.createElement("a");r.style="display:none;",r.download=t,r.href=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),r.remove()})((await l()(e,{scale:3})).toDataURL("image/png",1),t),r.style.width=null,a.style.width=null};function p(e,t,r,s){const u=(0,o.I0)();(0,a.useEffect)((()=>{(0,c.IE)(!0)}),[]),(0,a.useEffect)((()=>{!async function(){const a="".concat(e,"-quote-").concat((0,i.k$)(),".png");void 0!==t&&!0===t?await(async(e,t)=>{(async()=>{"share"in navigator&&(await l()(e,{scale:3})).toBlob((async e=>{const r={files:[new File([e],t,{type:e.type})]};if(navigator.canShare(r))try{await navigator.share(r)}catch(a){"AbortError"!==a.name&&console.error(a.name,a.message)}else console.warn("Sharing not supported",r)}))})()})(r.current,a):await d(r.current,a),s||(0,c.IE)(!1),u((0,n.Mk)(""))}()}),[r,e,t])}var _=r(184);const m=a.lazy((()=>(0,s.YM)((()=>r.e(284).then(r.bind(r,6011)))))),h=a.lazy((()=>(0,s.YM)((()=>r.e(173).then(r.bind(r,8358)))))),g=()=>{let{quotationText:e,philosopherFullName:t,signature:s,share:n=!1}=(0,o.v9)((e=>e.quoteImage));const i=(0,a.useRef)(),c=(0,o.v9)((e=>e.philosophersData.currentPhilosopher)),u={exportRef:i,quotationText:e,philosopherFullName:t,signature:s};p(t,n,i,(0,o.v9)((e=>e.philosophersData.darkMode)));try{const e="".concat(c,".jpg");return r(2892)("./"+e),(0,_.jsx)(m,{...u,imageName:e})}catch(l){return(0,_.jsx)(h,{...u})}}},9234:(e,t,r)=>{"use strict";r.d(t,{CQ:()=>c,IE:()=>n,c$:()=>l,lq:()=>u,xh:()=>i});var a=r(5938),o=r(4652),s=r(2922);const n=e=>{let t=document.getElementsByTagName("html")[0];t.className="",e?t.classList.add("darkTheme"):t.classList.add("lightTheme")},i=(e,t)=>e.map((e=>(0,a.vH)({philosopher:e.value,options:t}))).reverse(),c=e=>[...e].sort(((e,t)=>e.fullName.localeCompare(t.fullName)));async function u(e,t,r,a,s,n){const i=await(0,o.gu)({userName:e});if(i){if(i>n){let{markedQuotesFromServer:t}=await(0,o.M_)({userName:e,openSnackbar:r});a(t),r("Auto-Sync : Restored all marked quotes!",4e3)}else n>i&&await(0,o.yf)({userName:e,markedQuotes:t,openSnackbar:r});s(Date.now())}}const l=e=>{let{currentPhilosopher:t,options:r,markedQuotes:o,setStart:n,setEnd:i}=e;const c=(0,a.SD)({philosopher:t,options:r}),u=(null===o||void 0===o?void 0:o[t])||[],l=c.filter((e=>!u.includes(e.id))).reduce(((e,t)=>{let{quote:r}=t;return Math.min((0,s.WF)(r),e)}),1/0);n(1),i(l)}},4652:(e,t,r)=>{"use strict";r.d(t,{M_:()=>n,gu:()=>i,yf:()=>s,z9:()=>c});var a=r(4994),o=r(295);const s=async e=>{let{userName:t,markedQuotes:r,openSnackbar:s,setSyncDate:n}=e;await(0,o.YM)((async()=>await fetch(a.P.MARKED_QUOTES.BACKUP,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,markedQuotes:r,dateSynced:Date.now()})})))},n=async e=>{var t;let{userName:r,openSnackbar:s}=e,n=await(0,o.YM)((async()=>await fetch(a.P.MARKED_QUOTES.RESTORE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:r})})));if(n=await n.json(),null!==(t=n)&&void 0!==t&&t.ok)try{var i,c,u;const e=null===(i=n)||void 0===i||null===(c=i.results)||void 0===c||null===(u=c[0])||void 0===u?void 0:u.markedQuotes,t=Object.values(e).flat().length;var l,d,p;if(e&&t>0)return{markedQuotesFromServer:e,dateFromServer:null===(l=n)||void 0===l||null===(d=l.results)||void 0===d||null===(p=d[0])||void 0===p?void 0:p.dateSynced}}catch(_){s(JSON.stringify(_))}else s(JSON.stringify(n.error))},i=async e=>{var t;let{userName:r}=e,s=await(0,o.YM)((async()=>await fetch(a.P.MARKED_QUOTES.GET_COUNT,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:r})})));var n;return s=await s.json(),null!==(t=s)&&void 0!==t&&t.ok?null===(n=s)||void 0===n?void 0:n.count:null},c=async e=>{var t;let{apiCallType:r,userName:s,password:n,setIsLoggedIn:i,openSnackbar:c,setIsFetching:u}=e;const l=s.charAt(0).toUpperCase()+s.slice(1);let d;u(!0),d="login"===r?await(0,o.YM)((async()=>await fetch(a.P.USER.LOGIN,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:s,password:n})}))):await(0,o.YM)((async()=>await fetch(a.P.USER.CREATE,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:s,password:n})}))),d=await d.json(),u(!1),null!==(t=d)&&void 0!==t&&t.ok?(i(!0),c(l+" "+JSON.stringify(d.serverResponse))):c(JSON.stringify(d.error))}},2922:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$X:()=>searchByWordLength,AD:()=>getPhilosopherFullName_i10n,PZ:()=>getPhilosopherFullName,WF:()=>getWordCount,gt:()=>changeQuotesData});var _common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3456),_common_utils_staticDataUtils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(413),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9031);const changeQuotesData=(e,t)=>{let{currentPhilosopher:r,currentData:a,setCurrentData:o,options:s}=e,{markedMode:n=null,markedQuotes:i,setMarkedQuotes:c}=t;a&&o(a),void 0!==n&&n&&(0,_common_utils_staticDataUtils__WEBPACK_IMPORTED_MODULE_0__.H)({currentPhilosopher:r,markedMode:n,markedQuotes:i,setMarkedQuotes:c,currentData:a,setCurrentData:o})},getPhilosopherFullName=e=>{let{currentPhilosopher:t,options:r}=e;const a=r.filter((e=>{let{value:r}=e;return t===r}));if(!(0,_common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__.Z)(a))return a&&a[0].fullName},getPhilosopherFullName_i10n=e=>{let{currentPhilosopher:t,options:r}=e;const a=r.filter((e=>{let{value:r}=e;return t===r}));if(!(0,_common_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__.Z)(a))return a&&a[0].fullNameInOtherLanguages},searchByWordLength=async(start,end,quotes,_ref7,_ref8)=>{let{markedMode:markedMode,markedQuotes:markedQuotes,setMarkedQuotes:setMarkedQuotes}=_ref7,{setCurrentData:setCurrentData,currentPhilosopher:currentPhilosopher}=_ref8;return new Promise((resolve=>{void 0!==quotes&&("string"===typeof start&&""===start.trim()&&(start=0),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_1__.K.postMessage({quotes:quotes,end:end,start:start,filterName:"wordCountFilter"}),_common_web_workers_worker__WEBPACK_IMPORTED_MODULE_1__.K.onmessage=event=>{const newData=JSON.parse(eval("(".concat(JSON.stringify(event.data),")")));changeQuotesData({currentData:newData,setCurrentData:setCurrentData,currentPhilosopher:currentPhilosopher},{markedMode:markedMode,markedQuotes:markedQuotes,setMarkedQuotes:setMarkedQuotes}),resolve()})}))};function getWordCount(e){return e.split(" ").filter((function(e){return""!==e})).length}},2892:(e,t,r)=>{var a={"./BEAUVOIR.jpg":9073,"./BUKOWSKI.jpg":3792,"./CARL_JUNG.jpg":2063,"./FREUD.jpg":7393,"./MARK_TWAIN.jpg":5244,"./OSHO.jpg":6530,"./PETERSON.jpg":4500,"./RICKY_GERVAIS.png":8101,"./ROUSSEAU.jpg":6961};function o(e){var t=s(e);return r(t)}function s(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=s,e.exports=o,o.id=2892},9073:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/BEAUVOIR.a37acf7026379a5c745f.jpg"},3792:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/BUKOWSKI.3ed907dda532b04aa57a.jpg"},2063:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/CARL_JUNG.12be5cab35dd5548822a.jpg"},7393:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/FREUD.fa5e080abec887337460.jpg"},5244:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/MARK_TWAIN.d04dc676af5be490f48a.jpg"},6530:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/OSHO.45432ce7c4c8818ad65c.jpg"},4500:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/PETERSON.f3968a4c45466650e225.jpg"},8101:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/RICKY_GERVAIS.975580860d1cf99727fc.png"},6961:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/ROUSSEAU.bd65f104307ba9482677.jpg"}}]);
//# sourceMappingURL=GenerateQuoteImage.a2c09ec3.chunk.js.map